<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Twenty Forth & Fifth Home</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon.png">
    <link rel="icon" href="favicon.png" type="image/png">
    <!-- <link rel="icon" href="favicon.png" type="image/png"> -->
    <!-- Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind (monochrome config must load BEFORE CDN) -->
    <script src="./tailwind-mono.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Include Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="./site.css">
    <!-- EmailJS for OTP -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        :root {
            --bg: #f6f9ff;
            --surface: #ffffff;
            --ink: #09090b;
            --muted: #3f3f46;
            --subtle: #71717a;
            --border: #e4e4e7;
            --brand: #1e40af;
            --brand-hover: #1e3a8a;
        }

        html { scroll-behavior: smooth; }
        body { background: var(--bg); color: var(--ink); letter-spacing: -0.01em; }

        /* Text-based Logo */
        .text-logo {
            font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", sans-serif;
            font-weight: 650;
            font-size: 1.25rem;
            letter-spacing: -0.02em;
            color: var(--ink);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
        }
        .text-logo .first { color: var(--ink); }
        .text-logo .citizens { color: var(--ink); font-weight: 650; }
        .text-logo .inc {
            font-size: 0.75rem;
            color: var(--subtle);
            font-weight: 600;
            margin-left: 2px;
            vertical-align: super;
        }
        
        /* Primary button (keeps existing .btn-blue class names) */
        .btn-blue {
            background: var(--brand);
            color: white;
            border: 1px solid rgba(16, 43, 99, 0.18);
            transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
        }
        .btn-blue i { display: none; }
        .btn-blue:hover {
            background: var(--brand-hover);
            transform: translateY(-1px);
            box-shadow: 0 18px 50px rgba(0,0,0,0.12);
        }

        /* Bank-style nav helpers */
        .nav-link {
            color: var(--ink);
            font-weight: 500;
            font-size: 0.875rem;
            line-height: 1.25rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 0.75rem;
            border-radius: 0.75rem;
            transition: background-color 0.15s ease, color 0.15s ease;
        }
        .nav-link:hover { background: rgba(16, 43, 99, 0.06); }
        .nav-link i { display: none; } /* Chase-like: no icons in top nav */

        .nav-pill {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.75rem;
            border-radius: 9999px;
            border: 1px solid var(--border);
            background: rgba(255, 255, 255, 0.85);
            color: #102b63;
            font-weight: 600;
            font-size: 0.6875rem;
            letter-spacing: 0.12em;
            text-transform: uppercase;
        }
        .nav-pill i { display: none; }

        /* Variant for dark/blue section backgrounds */
        .nav-pill--on-dark {
            border-color: rgba(255, 255, 255, 0.16);
            background: rgba(255, 255, 255, 0.10);
            color: rgba(255, 255, 255, 0.92);
        }

        .dropdown:focus-within .dropdown-menu { display: block; }
        .dropdown:hover .dropdown-menu { display: block; }
        .dropdown-menu {
            display: none;
            position: absolute;
            top: calc(100% + 10px);
            left: 0;
            min-width: 260px;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 1rem;
            box-shadow: 0 28px 70px rgba(0,0,0,0.14);
            padding: 0.5rem;
            z-index: 60;
        }
        .dropdown-item {
            display: flex;
            gap: 0.75rem;
            padding: 0.75rem 0.75rem;
            border-radius: 0.75rem;
            color: var(--ink);
            transition: background-color 0.15s ease;
        }
        .dropdown-item:hover { background: rgba(24, 24, 27, 0.04); }
        .dropdown-item .title { font-weight: 650; }
        .dropdown-item .desc { font-size: 0.8rem; color: var(--muted); margin-top: 2px; }

        /* Subtle card hover (less “floaty”) */
        .card-hover { transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease; }
        .card-hover:hover {
            transform: translateY(-2px);
            border-color: rgba(24, 24, 27, 0.18);
            box-shadow: 0 18px 50px rgba(0,0,0,0.10);
        }

        /* Mobile overlay: existing JS toggles `.active` */
        #overlay.active { display: block !important; }
        
        /* Remove dropdown toggle icons */
        select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: none;
        }
        
        /* Remove dropdown arrow for IE */
        select::-ms-expand {
            display: none;
        }
    </style>
</head>

<body class="font-sans antialiased bg-blue-50">

        <div data-include="components/site-header.html"></div>

    <script>
    window.onload = function () {
        const splashScreen = document.getElementById('splash-screen');
        setTimeout(() => {
            if (splashScreen) {
                splashScreen.style.display = 'none';
            }
            document.body.style.overflow = 'auto';
        }, 4000);
    };
    </script>

    <!-- Hero Section -->
    <section class="pt-24 md:pt-32 pb-16 md:pb-24">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-center">
                <!-- Copy -->
                <div>
                    <h1 class="mt-6 text-4xl md:text-5xl lg:text-6xl font-extrabold text-black leading-[1.05]">
                        Premium digital finance<br class="hidden md:block" />
                        for everyday and business needs.
                    </h1>

                    <p class="mt-5 text-base md:text-lg text-black leading-relaxed max-w-xl">
                        Twenty Forth & Fifth delivers secure digital finance and relationship-led financing—designed with a premium, straightforward experience from onboarding to everyday spending.
                    </p>

                    <!-- Trust strip -->
                    <div class="mt-8 grid grid-cols-1 sm:grid-cols-3 gap-3">
                        <div class="flex items-center gap-3 bg-white border border-blue-100 rounded-2xl p-4 shadow-sm">
                            <div class="w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center"><i class="fas fa-shield-alt text-black"></i></div>
                            <div>
                                <p class="font-semibold text-black text-sm">Security</p>
                                <p class="text-black text-xs">Encryption & access controls</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-3 bg-white border border-blue-100 rounded-2xl p-4 shadow-sm">
                            <div class="w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center"><i class="fas fa-bolt text-black"></i></div>
                            <div>
                                <p class="font-semibold text-black text-sm">Account opening</p>
                                <p class="text-black text-xs">Streamlined application flow</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-3 bg-white border border-blue-100 rounded-2xl p-4 shadow-sm">
                            <div class="w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center"><i class="fas fa-globe text-black"></i></div>
                            <div>
                                <p class="font-semibold text-black text-sm">Transfers</p>
                                <p class="text-black text-xs">Multi-currency support</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Promotional Card Section -->
                <div class="relative">
                    <div class="absolute -inset-6 bg-gradient-to-br from-blue-200/40 via-white to-blue-100/40 blur-2xl rounded-[2.5rem]"></div>
                    <div class="relative bg-gradient-to-br from-blue-600 to-blue-800 border border-blue-700 rounded-[2rem] overflow-hidden shadow-xl p-6 md:p-8 text-white">
                        <div class="mb-6">
                            <div class="inline-flex items-center gap-2 bg-white/20 border border-white/30 rounded-full px-4 py-2 shadow-sm mb-4">
                                <span class="w-2 h-2 rounded-full bg-white"></span>
                                <span class="text-white text-xs font-semibold uppercase tracking-wider">Special Offer</span>
                            </div>
                            <h2 class="text-3xl md:text-4xl font-extrabold text-white mb-3">
                                Enjoy $400
                            </h2>
                            <p class="text-blue-100 text-base font-medium mb-2">
                                New Twenty Forth & Fifth checking customers
                            </p>
                            <p class="text-blue-200 text-sm leading-relaxed">
                                Open a Twenty Forth & Fifth Total Checking® account with qualifying activities.
                            </p>
                        </div>

                        <a href="sign-up.html" class="w-full bg-white text-black py-4 rounded-xl font-semibold text-base transition duration-300 shadow-lg flex items-center justify-center hover:bg-blue-50 hover:shadow-xl">
                            <i class="fas fa-arrow-right mr-2"></i>Open Account Now
                        </a>
                        
                        <div class="mt-6 pt-6 border-t border-white/20">
                            <p class="text-xs text-blue-200 text-center">
                                Terms and conditions apply. Qualifying activities required.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section (Chase-inspired layout) -->
    <section class="py-16 md:py-24 bg-blue-950">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-10">
                <div>
                    <div class="nav-pill"><i class="fas fa-handshake"></i> Financing services</div>
                    <h2 class="mt-4 text-3xl md:text-4xl font-extrabold text-white">Financing services</h2>
                    <p class="mt-3 text-blue-100/90 max-w-2xl">
                        Business and personal financing options with clear onboarding, support routing, and a consistent digital experience.
                    </p>
                </div>
                <div class="flex gap-3">
                    <a href="contact.html" class="px-5 py-3 rounded-xl border border-white/15 bg-white/5 text-white font-semibold hover:bg-white/10 transition inline-flex items-center">
                        Contact support
                    </a>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Service 1 -->
                <div class="bg-white border border-blue-100 rounded-3xl p-6 md:p-8 shadow-sm card-hover">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center">
                            <i class="fas fa-chart-line text-black text-lg"></i>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-black">Business finance</h3>
                            <p class="text-sm text-black">Guidance for complex requirements</p>
                        </div>
                    </div>
                    <p class="mt-5 text-black">
                        Our team supports businesses navigating financial requirements and documentation across local and international onboarding flows.
                    </p>
                    <ul class="mt-6 space-y-3 text-sm text-black">
                        <li class="flex gap-3"><i class="fas fa-check text-blue-600 mt-1"></i><span>Strategic partnerships</span></li>
                        <li class="flex gap-3"><i class="fas fa-check text-blue-600 mt-1"></i><span>Expert guidance</span></li>
                    </ul>
                </div>

                <!-- Service 2 -->
                <div class="bg-white border border-blue-100 rounded-3xl p-6 md:p-8 shadow-sm card-hover">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center">
                            <i class="fas fa-building text-black text-lg"></i>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-black">Private enterprise</h3>
                            <p class="text-sm text-black">Solutions for organizations</p>
                        </div>
                    </div>
                    <p class="mt-5 text-black">
                        Private enterprise financial services designed for organizations that need structured access, reporting, and ongoing support.
                    </p>
                    <ul class="mt-6 space-y-3 text-sm text-black">
                        <li class="flex gap-3"><i class="fas fa-check text-blue-600 mt-1"></i><span>Custom solutions</span></li>
                        <li class="flex gap-3"><i class="fas fa-check text-blue-600 mt-1"></i><span>Dedicated support</span></li>
                    </ul>
                </div>

                <!-- Service 3 -->
                <div class="bg-white border border-blue-100 rounded-3xl p-6 md:p-8 shadow-sm card-hover">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center">
                            <i class="fas fa-piggy-bank text-black text-lg"></i>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-black">Personal options</h3>
                            <p class="text-sm text-black">Accounts and financing</p>
                        </div>
                    </div>
                    <p class="mt-5 text-black">
                        Personal finance options covering account access, transfers, statements, and financing paths—built around everyday usage.
                    </p>
                    <ul class="mt-6 space-y-3 text-sm text-black">
                        <li class="flex gap-3"><i class="fas fa-check text-blue-600 mt-1"></i><span>Asset protection</span></li>
                        <li class="flex gap-3"><i class="fas fa-check text-blue-600 mt-1"></i><span>Wealth optimization</span></li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Account Types Section (Chase-inspired layout) -->
    <section class="py-16 md:py-24 bg-blue-100 border-y border-blue-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-10">
                <div>
                    <div class="nav-pill"><i class="fas fa-layer-group"></i> Account types</div>
                    <h2 class="mt-4 text-3xl md:text-4xl font-extrabold text-black">Account solutions</h2>
                    <p class="mt-3 text-black max-w-2xl">Select an account type based on how you bank and who needs access.</p>
                </div>
                <a href="sign-up.html" class="btn-blue px-5 py-3 rounded-xl font-semibold inline-flex items-center shadow-lg">
                    Open an account <i class="fas fa-arrow-right ml-2 text-sm"></i>
                </a>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Personal Account -->
                <div class="bg-white border border-blue-200 rounded-2xl p-6 shadow-sm card-hover">
                    <div class="flex items-start gap-4">
                        <div class="w-10 h-10 rounded-xl bg-blue-50 border border-blue-100 flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-user-tie text-black"></i>
                        </div>
                        <div>
                            <h3 class="text-base font-semibold text-black">Personal account</h3>
                            <p class="mt-1 text-sm text-black">Everyday finance for individuals.</p>
                    </div>
                    </div>
                    <ul class="mt-5 space-y-2 text-sm text-black">
                        <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-blue-600"></span><span>Competitive interest rates</span></li>
                        <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-blue-600"></span><span>24/7 online access</span></li>
                        <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-blue-600"></span><span>International transfers</span></li>
                    </ul>
                    <a href="sign-up.html" class="mt-6 inline-flex w-full items-center justify-center btn-blue text-white py-3 rounded-xl font-semibold shadow-sm">
                        Open personal account
                    </a>
                </div>

                <!-- Business Account -->
                <div class="bg-white border border-blue-200 rounded-2xl p-6 shadow-sm card-hover">
                    <div class="flex items-start gap-4">
                        <div class="w-10 h-10 rounded-xl bg-blue-50 border border-blue-100 flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-building text-black"></i>
                        </div>
                        <div>
                            <h3 class="text-base font-semibold text-black">Business account</h3>
                            <p class="mt-1 text-sm text-black">Finance designed for operations.</p>
                    </div>
                    </div>
                    <ul class="mt-5 space-y-2 text-sm text-black">
                        <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-blue-600"></span><span>Multi-currency support</span></li>
                        <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-blue-600"></span><span>Business analytics</span></li>
                        <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-blue-600"></span><span>Dedicated relationship support</span></li>
                    </ul>
                    <a href="sign-up.html" class="mt-6 inline-flex w-full items-center justify-center btn-blue text-white py-3 rounded-xl font-semibold shadow-sm">
                        Open business account
                    </a>
                </div>

                <!-- Investment Account -->
                <div class="bg-white border border-blue-200 rounded-2xl p-6 shadow-sm card-hover">
                    <div class="flex items-start gap-4">
                        <div class="w-10 h-10 rounded-xl bg-blue-50 border border-blue-100 flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-chart-line text-black"></i>
                        </div>
                        <div>
                            <h3 class="text-base font-semibold text-black">Investment account</h3>
                            <p class="mt-1 text-sm text-black">Portfolio tools and insights.</p>
                    </div>
                    </div>
                    <ul class="mt-5 space-y-2 text-sm text-black">
                        <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-blue-600"></span><span>Portfolio management</span></li>
                        <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-blue-600"></span><span>Expert investment guidance</span></li>
                        <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-blue-600"></span><span>Global market access</span></li>
                    </ul>
                    <a href="https://invest-wise-inc.web.app/index.html" class="mt-6 inline-flex w-full items-center justify-center btn-blue text-white py-3 rounded-xl font-semibold shadow-sm">
                        Open investment account
                    </a>
                </div>

                <!-- Joint Account -->
                <div class="bg-white border border-blue-200 rounded-2xl p-6 shadow-sm card-hover">
                    <div class="flex items-start gap-4">
                        <div class="w-10 h-10 rounded-xl bg-blue-50 border border-blue-100 flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-users text-black"></i>
                        </div>
                        <div>
                            <h3 class="text-base font-semibold text-black">Joint account</h3>
                            <p class="mt-1 text-sm text-black">Shared access, clear controls.</p>
                    </div>
                    </div>
                    <ul class="mt-5 space-y-2 text-sm text-black">
                        <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-blue-600"></span><span>2–3 account holders</span></li>
                        <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-blue-600"></span><span>Shared access and controls</span></li>
                        <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-blue-600"></span><span>Separate contact details</span></li>
                    </ul>
                    <button id="open-joint-modal-btn" class="mt-6 inline-flex w-full items-center justify-center btn-blue text-white py-3 rounded-xl font-semibold shadow-sm">
                        Open joint account
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Financial Features Section (Chase-inspired layout) -->
    <section class="py-16 md:py-24 bg-blue-50 border-y border-blue-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-10">
                <div>
                    <div class="nav-pill"><i class="fas fa-shield-alt"></i> Features</div>
                    <h2 class="mt-4 text-3xl md:text-4xl font-extrabold text-black">Financial features</h2>
                    <p class="mt-3 text-black max-w-2xl">Security, access, and account management features available across personal and business flows.</p>
                </div>
                <a href="security.html" class="px-5 py-3 rounded-xl border border-blue-200 bg-white text-black font-semibold hover:bg-blue-50 transition inline-flex items-center">
                    Security overview <i class="fas fa-arrow-right ml-2 text-sm"></i>
                </a>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="bg-white border border-blue-100 rounded-3xl p-6 md:p-7 shadow-sm card-hover">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center">
                            <i class="fas fa-shield-alt text-black text-lg"></i>
                        </div>
                        <h3 class="text-lg font-bold text-black">Security</h3>
                    </div>
                    <p class="mt-4 text-black text-sm">Encryption and account protections designed for secure access and transaction handling.</p>
                </div>
                <div class="bg-white border border-blue-100 rounded-3xl p-6 md:p-7 shadow-sm card-hover">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center">
                            <i class="fas fa-globe text-black text-lg"></i>
                        </div>
                        <h3 class="text-lg font-bold text-black">Access</h3>
                    </div>
                    <p class="mt-4 text-black text-sm">Manage accounts and transactions from desktop and mobile experiences.</p>
                </div>
                <div class="bg-white border border-blue-100 rounded-3xl p-6 md:p-7 shadow-sm card-hover">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center">
                            <i class="fas fa-exchange-alt text-black text-lg"></i>
                        </div>
                        <h3 class="text-lg font-bold text-black">Multi-currency</h3>
                    </div>
                    <p class="mt-4 text-black text-sm">Support for international transfers and multi-currency workflows.</p>
                </div>
                <div class="bg-white border border-blue-100 rounded-3xl p-6 md:p-7 shadow-sm card-hover">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center">
                            <i class="fas fa-chart-pie text-black text-lg"></i>
                        </div>
                        <h3 class="text-lg font-bold text-black">Wealth</h3>
                    </div>
                    <p class="mt-4 text-black text-sm">Tools and services for portfolio management and investment access.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Financial Tools Section (Chase-inspired layout) -->
    <section class="py-16 md:py-24 bg-blue-100 border-y border-blue-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-10">
                <div>
                    <div class="nav-pill"><i class="fas fa-toolbox"></i> Tools</div>
                    <h2 class="mt-4 text-3xl md:text-4xl font-extrabold text-black">Tools and resources</h2>
                    <p class="mt-3 text-black max-w-2xl">Calculators and insights that support planning and informed decisions.</p>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-white border border-blue-100 rounded-3xl p-6 md:p-8 shadow-sm card-hover">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center">
                            <i class="fas fa-calculator text-black text-lg"></i>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-black">Financial calculators</h3>
                            <p class="text-sm text-black">Loans, savings, and investments</p>
                        </div>
                    </div>
                    <p class="mt-5 text-black">Plan scenarios with calculator tools for common financial workflows.</p>
                    <div class="mt-6">
                        <a href="https://invest-wise-inc.web.app/sign-up.html" class="font-semibold text-black hover:text-black inline-flex items-center">
                            Open investing <i class="fas fa-arrow-right ml-2 text-sm"></i>
                        </a>
                    </div>
                </div>

                <div class="bg-white border border-blue-100 rounded-3xl p-6 md:p-8 shadow-sm card-hover">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center">
                            <i class="fas fa-chart-bar text-black text-lg"></i>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-black">Market insights</h3>
                            <p class="text-sm text-black">Analysis and data access</p>
                        </div>
                    </div>
                    <p class="mt-5 text-black">View market snapshots and insights for investment planning.</p>
                    <div class="mt-6">
                        <a href="https://invest-wise-inc.web.app/index.html#markets" class="font-semibold text-black hover:text-black inline-flex items-center">
                            View insights <i class="fas fa-arrow-right ml-2 text-sm"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Investment Options Section (Chase-inspired layout) -->
    <section class="py-16 md:py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-10">
                <div>
                    <div class="nav-pill"><i class="fas fa-chart-line"></i> Investments</div>
                    <h2 class="mt-4 text-3xl md:text-4xl font-extrabold text-black">Investment opportunities</h2>
                    <p class="mt-3 text-black max-w-2xl">Options to diversify based on goals and risk tolerance.</p>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white border border-blue-100 rounded-3xl p-6 md:p-8 shadow-sm card-hover">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center">
                            <i class="fas fa-percentage text-black text-lg"></i>
                        </div>
                        <h3 class="text-lg font-bold text-black">Fixed income</h3>
                    </div>
                    <p class="mt-5 text-black">Stable return profiles through government and corporate bond products.</p>
                    <ul class="mt-6 space-y-3 text-sm text-black">
                        <li class="flex gap-3"><i class="fas fa-check text-blue-600 mt-1"></i><span>Regular income payments</span></li>
                        <li class="flex gap-3"><i class="fas fa-check text-blue-600 mt-1"></i><span>Capital preservation</span></li>
                    </ul>
                </div>

                <div class="bg-white border border-blue-100 rounded-3xl p-6 md:p-8 shadow-sm card-hover">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center">
                            <i class="fas fa-chart-line text-black text-lg"></i>
                        </div>
                        <h3 class="text-lg font-bold text-black">Equities</h3>
                    </div>
                    <p class="mt-5 text-black">Exposure to global markets with portfolio management support.</p>
                    <ul class="mt-6 space-y-3 text-sm text-black">
                        <li class="flex gap-3"><i class="fas fa-check text-blue-600 mt-1"></i><span>Global market exposure</span></li>
                        <li class="flex gap-3"><i class="fas fa-check text-blue-600 mt-1"></i><span>Expert selection</span></li>
                    </ul>
                </div>

                <div class="bg-white border border-blue-100 rounded-3xl p-6 md:p-8 shadow-sm card-hover">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center">
                            <i class="fas fa-gem text-black text-lg"></i>
                        </div>
                        <h3 class="text-lg font-bold text-black">Alternatives</h3>
                    </div>
                    <p class="mt-5 text-black">Diversification through real estate, commodities, and private equity.</p>
                    <ul class="mt-6 space-y-3 text-sm text-black">
                        <li class="flex gap-3"><i class="fas fa-check text-blue-600 mt-1"></i><span>Portfolio diversification</span></li>
                        <li class="flex gap-3"><i class="fas fa-check text-blue-600 mt-1"></i><span>Market opportunities</span></li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section (Chase-inspired layout, keeps toggleFAQ behavior) -->
    <section class="py-16 md:py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-10">
                <div>
                    <div class="nav-pill"><i class="fas fa-question-circle"></i> FAQ</div>
                    <h2 class="mt-4 text-3xl md:text-4xl font-extrabold text-black">Frequently asked questions</h2>
                    <p class="mt-3 text-black max-w-2xl">Common questions about onboarding, deposits, security, and investment access.</p>
                </div>
            </div>

            <div class="max-w-4xl mx-auto space-y-3">
                <div class="bg-white border border-blue-100 rounded-2xl p-5 md:p-6 shadow-sm">
                    <button class="flex justify-between items-center w-full text-left" onclick="toggleFAQ(this)">
                        <h3 class="text-base md:text-lg font-semibold text-black">How do I open a financial account?</h3>
                        <i class="fas fa-chevron-down text-black transition-transform"></i>
                    </button>
                    <div class="mt-3 text-black hidden">
                        Opening a financial account is straightforward. You'll need to provide identification documents, proof of address, and complete our online application form. Our team will guide you through the process and ensure all requirements are met.
                    </div>
                </div>

                <div class="bg-white border border-blue-100 rounded-2xl p-5 md:p-6 shadow-sm">
                    <button class="flex justify-between items-center w-full text-left" onclick="toggleFAQ(this)">
                        <h3 class="text-base md:text-lg font-semibold text-black">What are the minimum deposit requirements?</h3>
                        <i class="fas fa-chevron-down text-black transition-transform"></i>
                    </button>
                    <div class="mt-3 text-black hidden">
                        Minimum deposit requirements vary by account type. Our personal accounts start from $10,000, while business accounts begin at $25,000. Contact our team for specific requirements based on your needs.
                    </div>
                </div>

                <div class="bg-white border border-blue-100 rounded-2xl p-5 md:p-6 shadow-sm">
                    <button class="flex justify-between items-center w-full text-left" onclick="toggleFAQ(this)">
                        <h3 class="text-base md:text-lg font-semibold text-black">How secure are financial accounts?</h3>
                        <i class="fas fa-chevron-down text-black transition-transform"></i>
                    </button>
                    <div class="mt-3 text-black hidden">
                        We implement strong security standards, including encryption, multi-factor authentication, and security audits. Your assets are protected by operational safeguards and account protections.
                    </div>
                </div>

                <div class="bg-white border border-blue-100 rounded-2xl p-5 md:p-6 shadow-sm">
                    <button class="flex justify-between items-center w-full text-left" onclick="toggleFAQ(this)">
                        <h3 class="text-base md:text-lg font-semibold text-black">What investment options are available?</h3>
                        <i class="fas fa-chevron-down text-black transition-transform"></i>
                    </button>
                    <div class="mt-3 text-black hidden">
                        We offer a range of investment options including fixed income securities, equity investments, alternative investments, and managed portfolios. Our specialists can help you choose options based on your goals.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 21st Century Digital Finance Section (Chase-inspired layout) -->
    <section class="py-16 md:py-24 bg-blue-600 border-y border-blue-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-center">
                <div class="order-2 lg:order-1">
                    <div class="nav-pill nav-pill--on-dark"><i class="fas fa-bolt"></i> Digital finance</div>
                    <h2 class="mt-4 text-3xl md:text-4xl font-extrabold text-white">Digital finance access</h2>
                    <p class="mt-3 text-white/90 max-w-xl">
                        Sign in to manage balances, review activity, and complete financial actions using the online experience.
                    </p>

                    <div class="mt-8 grid grid-cols-1 sm:grid-cols-3 gap-3">
                        <div class="bg-white border border-blue-100 rounded-2xl p-4">
                            <p class="text-sm font-semibold text-black">Security</p>
                            <p class="text-xs text-black mt-1">Account protections</p>
                        </div>
                        <div class="bg-white border border-blue-100 rounded-2xl p-4 shadow-sm">
                            <p class="text-sm font-semibold text-black">Access</p>
                            <p class="text-xs text-black mt-1">Desktop and mobile</p>
                        </div>
                        <div class="bg-white border border-blue-100 rounded-2xl p-4 shadow-sm">
                            <p class="text-sm font-semibold text-black">Transfers</p>
                            <p class="text-xs text-black mt-1">Domestic and international</p>
                        </div>
                    </div>

                    <div class="mt-8 flex flex-col sm:flex-row gap-3">
                        <a href="login.html" class="btn-blue px-6 py-3 rounded-xl font-semibold inline-flex items-center justify-center">
                            <i class="fas fa-lock mr-2"></i>Online finance
                        </a>
                        <a href="support.html" class="px-6 py-3 rounded-xl border border-blue-200 bg-white text-black font-semibold hover:bg-blue-50 transition inline-flex items-center justify-center">
                            Help Center <i class="fas fa-arrow-right ml-2 text-sm"></i>
                        </a>
                    </div>
                </div>

                <div class="order-1 lg:order-2">
                    <div class="relative">
                        <div class="absolute -inset-6 bg-gradient-to-br from-blue-200/40 via-white to-blue-100/40 rounded-[2.5rem]"></div>
                        <div class="relative bg-white border border-blue-100 rounded-3xl overflow-hidden">
                            <div class="p-5 md:p-7 border-b border-blue-100 flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center">
                                        <i class="fas fa-user-shield text-blue-600"></i>
                                    </div>
                                    <div>
                                        <p class="text-black font-semibold leading-tight">Online finance</p>
                                        <p class="text-black text-xs">Secure sign-in and account access</p>
                                    </div>
                                </div>
                                <span class="text-black text-xs font-semibold bg-blue-50 border border-blue-100 px-3 py-1 rounded-full">Preview</span>
                            </div>

                            <div class="p-5 md:p-7">
                                <div class="bg-white border border-blue-100 rounded-2xl p-4 md:p-5 shadow-sm">
                                    <div class="grid grid-cols-1 gap-3">
                                        <div>
                                            <label class="block text-xs font-semibold text-black mb-1">Email</label>
                                            <div class="flex items-center gap-3 border border-blue-200 rounded-xl px-4 py-3">
                                                <i class="fas fa-envelope text-blue-600"></i>
                                                <span class="text-sm text-black">name@example.com</span>
                                            </div>
                                        </div>
                                        <div>
                                            <label class="block text-xs font-semibold text-black mb-1">Password</label>
                                            <div class="flex items-center gap-3 border border-blue-200 rounded-xl px-4 py-3">
                                                <i class="fas fa-lock text-blue-600"></i>
                                                <span class="text-sm text-black">••••••••••</span>
                                            </div>
                                        </div>
                                        <div class="flex items-center justify-between pt-2">
                                            <div class="flex items-center gap-2 text-xs text-black">
                                                <i class="fas fa-check-circle text-blue-600"></i><span>Two-factor available</span>
                                            </div>
                                            <span class="text-xs text-black">Session protected</span>
                                        </div>
                                    </div>
                                    <div class="mt-4">
                                        <div class="btn-blue w-full text-center py-3 rounded-xl font-semibold">Sign in</div>
                                    </div>
                                </div>

                                <div class="mt-5 grid grid-cols-1 sm:grid-cols-3 gap-3">
                                    <div class="bg-blue-50 border border-blue-100 rounded-2xl p-4">
                                        <p class="text-sm font-semibold text-black">Balances</p>
                                        <p class="text-xs text-black mt-1">Account overview</p>
                                    </div>
                                    <div class="bg-blue-50 border border-blue-100 rounded-2xl p-4">
                                        <p class="text-sm font-semibold text-black">Transfers</p>
                                        <p class="text-xs text-black mt-1">Send and track</p>
                                    </div>
                                    <div class="bg-blue-50 border border-blue-100 rounded-2xl p-4">
                                        <p class="text-sm font-semibold text-black">Statements</p>
                                        <p class="text-xs text-black mt-1">Download history</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

<!-- Modern Joint Account Modal - Copy this into your index.html -->
<div id="joint-modal" class="fixed inset-0 z-50 hidden">
    <div id="joint-backdrop" class="absolute inset-0 bg-black bg-opacity-60 backdrop-blur-sm"></div>
            <div id="joint-modal-content" class="relative mx-auto my-4 md:my-8 max-w-[95vw] md:max-w-4xl bg-white rounded-2xl shadow-2xl p-0 overflow-hidden max-h-[95vh] md:max-h-[90vh]">
            <!-- Header -->
            <div class="bg-gradient-to-br from-blue-700 via-blue-600 to-blue-800 text-white p-5 md:p-8 shadow-xl">
                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-3 md:space-x-4">
                        <div class="bg-white rounded-2xl p-3 md:p-4 shadow-lg">
                            <i class="fas fa-users text-black text-xl md:text-2xl"></i>
                        </div>
                        <div>
                            <h3 class="text-xl md:text-3xl font-bold mb-1">Joint Account Application</h3>
                            <p class="text-blue-100 text-sm md:text-base font-medium">Start your shared finance journey today</p>
                        </div>
                    </div>
                    <button type="button" id="close-joint-modal-btn" onclick="window.closeJointAccountModal(); return false;" class="text-white hover:text-blue-100 transition-all duration-200 p-2 md:p-3 rounded-xl hover:bg-white hover:bg-opacity-20 hover:scale-110" style="cursor: pointer; z-index: 1000; position: relative;">
                        <i class="fas fa-times text-lg md:text-xl"></i>
                    </button>
                </div>
            </div>

            <!-- Form Container -->
            <div class="p-4 md:p-8 overflow-y-auto max-h-[calc(95vh-120px)] md:max-h-[calc(90vh-140px)]">
            <div class="mb-6 md:mb-8 p-4 md:p-6 bg-blue-50 border border-blue-200 rounded-xl">
                <div class="flex items-start space-x-2 md:space-x-3">
                    <i class="fas fa-info-circle text-black text-base md:text-lg mt-0.5"></i>
                    <div class="text-black">
                        <p class="font-medium mb-1 text-sm md:text-base">Important Information</p>
                        <p class="text-xs md:text-sm">Create a joint account with 2–3 holders. The principal holder's email will be used to create the secure login. Business information is optional unless you select a Business account type.</p>
                    </div>
                </div>
            </div>

            <form id="joint-account-form" class="space-y-6 md:space-y-8">
                <!-- Account Holders Section -->
                <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-5 md:p-8 shadow-sm border border-blue-200">
                    <div class="flex items-center space-x-3 md:space-x-4 mb-6 md:mb-8">
                        <div class="bg-gradient-to-br from-blue-700 to-blue-800 rounded-xl p-3 shadow-lg">
                            <i class="fas fa-users text-white text-lg md:text-xl"></i>
                        </div>
                        <div>
                            <h4 class="text-lg md:text-xl font-bold text-black">Account Holders</h4>
                            <p class="text-xs md:text-sm text-black mt-0.5">Primary and secondary account holder information</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 gap-4 md:gap-6">
                        <div>
                            <label for="holders-count" class="flex items-center space-x-2 text-sm font-semibold text-black mb-3">
                                <i class="fas fa-users-cog text-black"></i>
                                <span>Number of Account Holders</span>
                            </label>
                            <div class="relative">
                                <select id="holders-count" class="w-full appearance-none border-2 border-blue-200 rounded-xl p-3 md:p-4 pl-12 pr-4 text-blue-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 shadow-sm hover:border-blue-400 cursor-pointer">
                                <option value="2" selected>2 Account Holders</option>
                                <option value="3">3 Account Holders</option>
                            </select>
                                <i class="fas fa-users absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-500 pointer-events-none"></i>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 mt-6 md:mt-8">
                        <!-- Primary Holder -->
                        <div class="bg-white rounded-xl p-5 md:p-6 shadow-sm border border-blue-200 space-y-4 md:space-y-5">
                            <div class="flex items-center space-x-2 pb-3 border-b border-blue-200">
                                <div class="bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg p-2">
                                    <i class="fas fa-crown text-white text-sm"></i>
                                </div>
                                <h5 class="font-bold text-black text-sm md:text-base">Primary Holder</h5>
                            </div>
                            <div>
                                <label class="flex items-center space-x-2 text-sm font-semibold text-black mb-2">
                                    <i class="fas fa-user text-black text-xs"></i>
                                    <span>Full Name</span>
                                </label>
                                <div class="relative">
                                    <input id="holder-name-1" type="text" required class="w-full border-2 border-blue-200 rounded-xl p-3 md:p-4 pl-12 pr-4 text-blue-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 shadow-sm hover:border-blue-400" placeholder="Enter primary holder name" />
                                    <i class="fas fa-user absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-500 pointer-events-none"></i>
                                </div>
                            </div>
                            <div>
                                <label class="flex items-center space-x-2 text-sm font-semibold text-black mb-2">
                                    <i class="fas fa-envelope text-black text-xs"></i>
                                    <span>Email Address</span>
                                </label>
                                <div class="relative">
                                    <input id="principal-email" type="email" required class="w-full border-2 border-blue-200 rounded-xl p-3 md:p-4 pl-12 pr-4 text-blue-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 shadow-sm hover:border-blue-400" placeholder="primary@example.com" />
                                    <i class="fas fa-envelope absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-500 pointer-events-none"></i>
                                </div>
                            </div>
                            <div>
                                <label class="flex items-center space-x-2 text-sm font-semibold text-black mb-2">
                                    <i class="fas fa-phone text-black text-xs"></i>
                                    <span>Phone Number</span>
                                </label>
                                <div class="relative">
                                    <input id="principal-phone" type="tel" required class="w-full border-2 border-blue-200 rounded-xl p-3 md:p-4 pl-12 pr-4 text-blue-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 shadow-sm hover:border-blue-400" placeholder="+1 234 567 8900" />
                                    <i class="fas fa-phone absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-500 pointer-events-none"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Secondary Holder -->
                        <div class="bg-white rounded-xl p-5 md:p-6 shadow-sm border border-blue-200 space-y-4 md:space-y-5">
                            <div class="flex items-center space-x-2 pb-3 border-b border-blue-200">
                                <div class="bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-2">
                                    <i class="fas fa-user text-white text-sm"></i>
                                </div>
                                <h5 class="font-bold text-black text-sm md:text-base">Secondary Holder</h5>
                            </div>
                            <div>
                                <label class="flex items-center space-x-2 text-sm font-semibold text-black mb-2">
                                    <i class="fas fa-user text-black text-xs"></i>
                                    <span>Full Name</span>
                                </label>
                                <div class="relative">
                                    <input id="holder-name-2" type="text" required class="w-full border-2 border-blue-200 rounded-xl p-3 md:p-4 pl-12 pr-4 text-blue-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 shadow-sm hover:border-blue-400" placeholder="Enter secondary holder name" />
                                    <i class="fas fa-user absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-500 pointer-events-none"></i>
                                </div>
                            </div>
                            <div>
                                <label class="flex items-center space-x-2 text-sm font-semibold text-black mb-2">
                                    <i class="fas fa-envelope text-black text-xs"></i>
                                    <span>Email Address</span>
                                </label>
                                <div class="relative">
                                    <input id="secondary-email" type="email" required class="w-full border-2 border-blue-200 rounded-xl p-3 md:p-4 pl-12 pr-4 text-blue-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 shadow-sm hover:border-blue-400" placeholder="secondary@example.com" />
                                    <i class="fas fa-envelope absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-500 pointer-events-none"></i>
                                </div>
                            </div>
                            <div>
                                <label class="flex items-center space-x-2 text-sm font-semibold text-black mb-2">
                                    <i class="fas fa-phone text-black text-xs"></i>
                                    <span>Phone Number</span>
                                </label>
                                <div class="relative">
                                    <input id="secondary-phone" type="tel" required class="w-full border-2 border-blue-200 rounded-xl p-3 md:p-4 pl-12 pr-4 text-blue-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 shadow-sm hover:border-blue-400" placeholder="+1 234 567 8901" />
                                    <i class="fas fa-phone absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-500 pointer-events-none"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Third Holder (Conditional) -->
                    <div id="holder-3-group" class="hidden mt-6 md:mt-8">
                        <div class="bg-white rounded-xl p-5 md:p-6 shadow-sm border border-blue-200">
                            <div class="flex items-center space-x-2 pb-3 mb-5 border-b border-blue-200">
                                <div class="bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-2">
                                    <i class="fas fa-user-plus text-white text-sm"></i>
                                </div>
                                <h5 class="font-bold text-black text-sm md:text-base">Third Holder</h5>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                                <div>
                                    <label class="flex items-center space-x-2 text-sm font-semibold text-black mb-2">
                                        <i class="fas fa-user text-black text-xs"></i>
                                        <span>Full Name</span>
                                    </label>
                                    <div class="relative">
                                        <input id="holder-name-3" type="text" class="w-full border-2 border-blue-200 rounded-xl p-3 md:p-4 pl-12 pr-4 text-blue-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 shadow-sm hover:border-blue-400" placeholder="Enter third holder name" />
                                        <i class="fas fa-user absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-500 pointer-events-none"></i>
                                    </div>
                                </div>
                                <div>
                                    <label class="flex items-center space-x-2 text-sm font-semibold text-black mb-2">
                                        <i class="fas fa-envelope text-black text-xs"></i>
                                        <span>Email Address</span>
                                    </label>
                                    <div class="relative">
                                        <input id="holder-name-3-email" type="email" class="w-full border-2 border-blue-200 rounded-xl p-3 md:p-4 pl-12 pr-4 text-blue-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 shadow-sm hover:border-blue-400" placeholder="third@example.com" />
                                        <i class="fas fa-envelope absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-500 pointer-events-none"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Account Details Section -->
                <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-5 md:p-8 shadow-sm border border-blue-200">
                    <div class="flex items-center space-x-3 md:space-x-4 mb-6 md:mb-8">
                        <div class="bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-3 shadow-lg">
                            <i class="fas fa-wallet text-white text-lg md:text-xl"></i>
                        </div>
                        <div>
                            <h4 class="text-lg md:text-xl font-bold text-black">Account Details</h4>
                            <p class="text-xs md:text-sm text-black mt-0.5">Configure your account preferences</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">
                        <div>
                            <label class="flex items-center space-x-2 text-sm font-semibold text-black mb-3">
                                <i class="fas fa-briefcase text-black"></i>
                                <span>Account Type</span>
                            </label>
                            <div class="relative">
                                <select id="account-type" class="w-full appearance-none border-2 border-blue-200 rounded-xl p-3 md:p-4 pl-12 pr-4 text-blue-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 shadow-sm hover:border-blue-400 cursor-pointer">
                                <option value="personal">Personal Account</option>
                                <option value="business">Business Account</option>
                                <option value="investment">Investment Account</option>
                            </select>
                                <i class="fas fa-briefcase absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-500 pointer-events-none"></i>
                            </div>
                        </div>
                        <div>
                            <label class="flex items-center space-x-2 text-sm font-semibold text-black mb-3">
                                <i class="fas fa-lock text-black"></i>
                                <span>Password</span>
                            </label>
                            <div class="relative">
                                <input id="password" type="password" required class="w-full border-2 border-blue-200 rounded-xl p-3 md:p-4 pl-12 pr-4 text-blue-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 shadow-sm hover:border-blue-400" placeholder="Enter a secure password" />
                                <i class="fas fa-lock absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-500 pointer-events-none"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Business Information Section -->
                <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-5 md:p-8 shadow-sm border border-blue-200">
                    <div class="flex items-center space-x-3 md:space-x-4 mb-6 md:mb-8">
                        <div class="bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-3 shadow-lg">
                            <i class="fas fa-building text-white text-lg md:text-xl"></i>
                        </div>
                        <div>
                            <h4 class="text-lg md:text-xl font-bold text-black">Business Information</h4>
                            <p class="text-xs md:text-sm text-black mt-0.5">Optional - Required for business accounts</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">
                        <div>
                            <label class="flex items-center space-x-2 text-sm font-semibold text-black mb-3">
                                <i class="fas fa-store text-black"></i>
                                <span>Business Name</span>
                            </label>
                            <div class="relative">
                                <input id="business-name" type="text" class="w-full border-2 border-blue-200 rounded-xl p-3 md:p-4 pl-12 pr-4 text-blue-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 shadow-sm hover:border-blue-400" placeholder="Enter business name" />
                                <i class="fas fa-store absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-500 pointer-events-none"></i>
                            </div>
                        </div>
                        <div>
                            <label class="flex items-center space-x-2 text-sm font-semibold text-black mb-3">
                                <i class="fas fa-id-card text-black"></i>
                                <span>Registration Number</span>
                            </label>
                            <div class="relative">
                                <input id="business-reg" type="text" class="w-full border-2 border-blue-200 rounded-xl p-3 md:p-4 pl-12 pr-4 text-blue-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 shadow-sm hover:border-blue-400" placeholder="Enter registration number" />
                                <i class="fas fa-id-card absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-500 pointer-events-none"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-6 md:mt-8">
                        <label class="flex items-center space-x-2 text-sm font-semibold text-black mb-3">
                            <i class="fas fa-map-marker-alt text-black"></i>
                            <span>Business Address</span>
                        </label>
                        <div class="relative">
                            <textarea id="business-address" rows="3" class="w-full border-2 border-blue-200 rounded-xl p-3 md:p-4 pl-12 pr-4 text-blue-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 shadow-sm hover:border-blue-400 resize-none" placeholder="Enter complete business address"></textarea>
                            <i class="fas fa-map-marker-alt absolute left-4 top-4 text-blue-500 pointer-events-none"></i>
                        </div>
                    </div>
                </div>

                <!-- Terms and Conditions -->
                <div class="bg-blue-50 border border-blue-200 rounded-xl p-4 md:p-6">
                    <div class="flex items-start space-x-2 md:space-x-3">
                        <i class="fas fa-exclamation-triangle text-black text-base md:text-lg mt-0.5"></i>
                        <div class="text-black">
                            <p class="font-medium mb-2 text-sm md:text-base">Important Notice</p>
                            <p class="text-xs md:text-sm mb-4">Joint accounts allow multiple holders to manage funds together. Each holder can access the account as permitted. Ensure all details are accurate and agreed upon by all parties.</p>
                        </div>
                    </div>
                </div>

                <!-- Confirmation Checkbox -->
                <div class="flex items-start space-x-4 p-5 md:p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200 shadow-sm">
                    <div class="flex-shrink-0 mt-0.5">
                        <input id="joint-confirm" type="checkbox" required class="w-5 h-5 text-black border-2 border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer" />
                    </div>
                    <label for="joint-confirm" class="text-sm md:text-base text-black leading-relaxed cursor-pointer">
                        <span class="font-semibold text-black">I confirm</span> that the information provided above is correct and all holders are in mutual understanding. I agree to the <span class="text-black font-medium">terms and conditions</span> of opening a joint account.
                    </label>
                </div>

                <!-- Submit and Cancel Buttons -->
                <div class="flex flex-col sm:flex-row gap-4 md:gap-6">
                    <button type="button" id="cancel-joint-modal-btn" onclick="window.closeJointAccountModal(); return false;" class="flex-1 bg-white border-2 border-blue-200 hover:border-blue-400 text-black hover:text-black py-4 md:py-5 px-6 md:px-8 rounded-xl transition-all duration-200 font-bold text-base md:text-lg shadow-sm hover:shadow-md flex items-center justify-center space-x-2" style="cursor: pointer; position: relative; z-index: 10;">
                        <i class="fas fa-times"></i>
                        <span>Cancel</span>
                    </button>
                    <button id="joint-submit-btn" type="submit" class="flex-1 bg-gradient-to-r from-blue-700 via-blue-600 to-blue-800 text-white py-4 md:py-5 px-6 md:px-8 rounded-xl hover:from-blue-800 hover:via-blue-700 hover:to-blue-900 transition-all duration-300 font-bold text-base md:text-lg shadow-xl hover:shadow-2xl transform hover:-translate-y-1 flex items-center justify-center space-x-3">
                        <i class="fas fa-user-plus text-lg"></i>
                        <span>Create Joint Account</span>
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>

                <!-- Status Message -->
                <p id="joint-form-status" class="text-sm text-center text-gray-600"></p>
            </form>
        </div>
    </div>
</div> 

    <!-- Joint Account Success Modal -->
    <div id="joint-success-modal" class="fixed inset-0 z-50 hidden">
        <div id="success-backdrop" class="absolute inset-0 bg-black bg-opacity-50"></div>
        <div class="relative mx-auto my-12 max-w-md bg-white rounded-xl shadow-lg p-8">
            <div class="text-center">
                <!-- Success Icon -->
                <div class="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-blue-100 mb-6">
                    <i class="fas fa-check-circle text-blue-600 text-3xl"></i>
                </div>
                
                <!-- Success Message -->
                <h3 class="text-xl font-semibold text-black mb-4">Joint Account Registration in Progress</h3>
                
                <div class="space-y-3 text-black mb-6">
                    <p>Please be informed that a verification link has been sent to both account holders to complete the registration process.</p>
                    <p>We will review your application and get back to you within 2-3 business days regarding your registration status.</p>
                </div>
                
                <!-- Close Button -->
                <button id="close-success-modal-btn" class="w-full btn-blue text-white py-3 px-6 rounded-lg transition duration-300 font-medium">
                    Close
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile app preview section removed -->

    <!-- Testimonials Section -->
    <section class="py-16 md:py-24 bg-blue-50 border-y border-blue-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-10">
                <div>
                    <div class="nav-pill"><i class="fas fa-star"></i> Testimonials</div>
                    <h2 class="mt-4 text-3xl md:text-4xl font-extrabold text-black">Client testimonials</h2>
                    <p class="mt-3 text-black max-w-2xl">Verified feedback from clients using our financial and financing services.</p>
                </div>
                <a href="testimonials.html" class="px-5 py-3 rounded-xl border border-blue-200 bg-white text-black font-semibold hover:bg-blue-100 transition inline-flex items-center">
                    View all <i class="fas fa-arrow-right ml-2 text-sm"></i>
                </a>
            </div>
            
            <div id="testimonials-grid" class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 mb-10 md:mb-12 max-w-6xl mx-auto">
                <!-- Testimonials will be loaded here -->
                <div class="col-span-full text-center py-12">
                    <div class="inline-block animate-spin rounded-full h-10 w-10 border-b-2 border-blue-700"></div>
                    <p class="mt-4 text-black">Loading testimonials...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Compliance / Certifications -->
    <section id="compliance" class="py-16 md:py-20 bg-white border-t border-blue-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-10">
                <div>
                    <div class="nav-pill"><i class="fas fa-shield-alt"></i> Compliance</div>
                    <h2 class="mt-4 text-3xl md:text-4xl font-extrabold text-black">Compliance and safeguards</h2>
                    <p class="mt-3 text-black max-w-3xl">
                        Compliance frameworks and operational safeguards that support onboarding and account management.
                    </p>
                </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 max-w-6xl mx-auto">
                <div class="flex items-center gap-4 p-5 rounded-2xl border border-blue-200 bg-white shadow-sm card-hover">
                    <div class="w-12 h-12 rounded-xl bg-blue-50 border border-blue-100 flex items-center justify-center" aria-hidden="true">
                        <i class="fas fa-id-badge text-black text-xl"></i>
                    </div>
                    <div>
                        <p class="font-semibold text-black">KYC / Identity Verification</p>
                        <p class="text-sm text-black">Client onboarding checks</p>
                    </div>
                </div>

                <div class="flex items-center gap-4 p-5 rounded-2xl border border-blue-200 bg-white shadow-sm card-hover">
                    <div class="w-12 h-12 rounded-xl bg-blue-50 border border-blue-100 flex items-center justify-center" aria-hidden="true">
                        <i class="fas fa-search-dollar text-black text-xl"></i>
                    </div>
                    <div>
                        <p class="font-semibold text-black">AML Monitoring</p>
                        <p class="text-sm text-black">Anti‑money laundering controls</p>
                    </div>
                </div>

                <div class="flex items-center gap-4 p-5 rounded-2xl border border-blue-200 bg-white shadow-sm card-hover">
                    <div class="w-12 h-12 rounded-xl bg-blue-50 border border-blue-100 flex items-center justify-center" aria-hidden="true">
                        <i class="fas fa-ban text-black text-xl"></i>
                    </div>
                    <div>
                        <p class="font-semibold text-black">Sanctions Screening</p>
                        <p class="text-sm text-black">Watchlist checks</p>
                    </div>
                </div>

                <div class="flex items-center gap-4 p-5 rounded-2xl border border-blue-200 bg-white shadow-sm card-hover">
                    <div class="w-12 h-12 rounded-xl bg-blue-50 border border-blue-100 flex items-center justify-center" aria-hidden="true">
                        <i class="fas fa-lock text-black text-xl"></i>
                    </div>
                    <div>
                        <p class="font-semibold text-black">Encryption & Security</p>
                        <p class="text-sm text-black">Secure data handling</p>
                    </div>
                </div>

                <div class="flex items-center gap-4 p-5 rounded-2xl border border-blue-200 bg-white shadow-sm card-hover">
                    <div class="w-12 h-12 rounded-xl bg-blue-50 border border-blue-100 flex items-center justify-center" aria-hidden="true">
                        <i class="fas fa-clipboard-check text-black text-xl"></i>
                    </div>
                    <div>
                        <p class="font-semibold text-black">Independent Audit</p>
                        <p class="text-sm text-black">Controls & reporting</p>
                    </div>
                </div>

                <div class="flex items-center gap-4 p-5 rounded-2xl border border-blue-200 bg-white shadow-sm card-hover">
                    <div class="w-12 h-12 rounded-xl bg-blue-50 border border-blue-100 flex items-center justify-center" aria-hidden="true">
                        <i class="fas fa-balance-scale text-black text-xl"></i>
                    </div>
                    <div>
                        <p class="font-semibold text-black">Regulatory Disclosure</p>
                        <p class="text-sm text-black">Operational transparency</p>
                    </div>
                </div>
            </div>

            <!-- Establishments (logo-style icons, no links) -->
            <div class="max-w-6xl mx-auto mt-10">
                <div class="flex items-center justify-center mb-4">
                    <span class="text-xs font-semibold tracking-[0.18em] uppercase text-black">Affiliations</span>
                </div>
                <div class="flex flex-wrap items-center justify-center gap-3 md:gap-4">
                    <div class="h-14 w-32 md:h-16 md:w-40 rounded-2xl bg-white border border-blue-200 flex items-center justify-center shadow-sm px-3" title="FDIC — Federal Deposit Insurance Corporation">
                        <img src="FDIC-logo-removebg-preview.png" alt="FDIC" class="max-h-18 w-auto object-contain">
                    </div>
                    <div class="h-14 w-32 md:h-16 md:w-40 rounded-2xl bg-white border border-blue-200 flex items-center justify-center shadow-sm px-3" title="CIMA — Cayman Islands Monetary Authority">
                        <img src="cima_logo-removebg-preview.png" alt="CIMA" class="max-h-18 w-auto object-contain">
                    </div>
                    <div class="h-14 w-32 md:h-16 md:w-40 rounded-2xl bg-white border border-blue-200 flex items-center justify-center shadow-sm px-3" title="BMA — Bermuda Monetary Authority">
                        <img src="BMA.png" alt="BMA" class="max-h-18 w-auto object-contain">
                    </div>
                    <div class="h-14 w-32 md:h-16 md:w-40 rounded-2xl bg-white border border-blue-200 flex items-center justify-center shadow-sm px-3" title="FATF — Financial Action Task Force">
                        <img src="FATF.png" alt="FATF" class="max-h-14 w-auto object-contain">
                    </div>
                </div>
            </div>
        </div>
    </section>


    <div data-include="components/site-footer.html"></div>
    <div data-include="components/cookie-consent.html"></div>

    <!-- Live Chat Widget -->
    <!-- IMPORTANT: must be type="module" so Vite includes it in production build (dist/) -->
    <script type="module" src="./firebase-runtime-config.js"></script>
    <script type="module" src="live-chat-widget.js"></script>

    <script src="./components/site-shell.js"></script>

    <!-- Authentication Check - Show Dashboard button if user is logged in -->
    <script type="module">
        import { auth } from './firebase-client.js';
        import { onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js';

        function updateAuthButtons(isAuthenticated) {
          const desktopButton = document.getElementById('auth-nav-button');
          const mobileButton = document.getElementById('auth-nav-button-mobile');
          if (!desktopButton || !mobileButton) return;

          if (isAuthenticated) {
            desktopButton.innerHTML = `
              <a href="dashboard.html" class="btn-blue px-5 py-2.5 rounded-xl font-semibold inline-flex items-center shadow-sm">
                Dashboard
              </a>
            `;
            mobileButton.innerHTML = `
              <a href="dashboard.html" class="w-full py-3 text-center border border-blue-200 text-blue-900 text-sm font-medium bg-white rounded hover:bg-blue-50 hover:border-blue-300 transition duration-300 block">
                Dashboard
              </a>
            `;
          } else {
            desktopButton.innerHTML = `
              <a href="login.html" class="btn-blue px-5 py-2.5 rounded-xl font-semibold inline-flex items-center shadow-sm">
                Sign in
              </a>
            `;
            mobileButton.innerHTML = `
              <a href="login.html" class="w-full py-3 text-center border border-blue-200 text-blue-900 text-sm font-medium bg-white rounded hover:bg-blue-50 hover:border-blue-300 transition duration-300 block">
                Sign in
              </a>
            `;
          }
        }

        function bootAuthButtons() {
          updateAuthButtons(false);
          onAuthStateChanged(auth, (user) => updateAuthButtons(!!user));
        }

        // Header is injected dynamically; wait for fragments.
        window.addEventListener("site:fragments-loaded", bootAuthButtons, { once: true });
    </script>

    <!-- Testimonials Loader -->
    <script type="module">
        import { db } from './firebase-client.js';
        import { collection, getDocs, query, where } from 'firebase/firestore';

        try {

            async function loadFeaturedTestimonials() {
                try {
                    // Target companies to display (with multiple variations)
                    const targetCompanies = [
                        'point speed', 'pointspeed', 'point-speed',
                        'invest wise', 'investwise', 'invest-wise',
                        'blueline gadgets', 'blueline', 'blue line gadgets', 'blue-line gadgets'
                    ];
                    
                    // Load published testimonials (without orderBy to avoid index requirement)
                    const q = query(
                        collection(db, 'testimonials'),
                        where('published', '==', true)
                    );
                    const querySnapshot = await getDocs(q);

                    const allTestimonials = [];
                    querySnapshot.forEach((doc) => {
                        const data = doc.data();
                        allTestimonials.push({
                            id: doc.id,
                            authorName: data.authorName || '',
                            company: data.company || '',
                            country: data.country || '',
                            rating: data.rating || 0,
                            reviewText: data.reviewText || '',
                            verified: data.verified || false,
                            authorImage: data.authorImage || '',
                            likeCount: data.likeCount !== undefined ? data.likeCount : null,
                            createdAt: data.createdAt?.toDate ? data.createdAt.toDate() : (data.createdAt ? new Date(data.createdAt) : new Date())
                        });
                    });

                    // Helper function to check if company matches any target
                    function matchesCompany(companyName) {
                        const companyLower = (companyName || '').toLowerCase().trim().replace(/\s+/g, ' ');
                        return targetCompanies.some(target => {
                            const targetLower = target.toLowerCase().trim();
                            return companyLower.includes(targetLower) || targetLower.includes(companyLower);
                        });
                    }

                    // Helper function to get company category
                    function getCompanyCategory(companyName) {
                        const companyLower = (companyName || '').toLowerCase().trim().replace(/\s+/g, ' ');
                        if (companyLower.includes('point') && companyLower.includes('speed')) return 'point speed';
                        if (companyLower.includes('invest') && companyLower.includes('wise')) return 'invest wise';
                        if (companyLower.includes('blue') && (companyLower.includes('line') || companyLower.includes('gadget'))) return 'blueline gadgets';
                        return null;
                    }

                    // Filter for target companies
                    const featuredTestimonials = allTestimonials.filter(testimonial => {
                        return matchesCompany(testimonial.company);
                    });

                    // Sort by createdAt client-side (newest first)
                    featuredTestimonials.sort((a, b) => {
                        const dateA = a.createdAt instanceof Date ? a.createdAt.getTime() : new Date(a.createdAt).getTime();
                        const dateB = b.createdAt instanceof Date ? b.createdAt.getTime() : new Date(b.createdAt).getTime();
                        return dateB - dateA; // Descending order (newest first)
                    });

                    // Ensure we have exactly 3 testimonials in the order: Point Speed, Invest Wise, Blueline Gadgets
                    const orderedTestimonials = [];
                    const companyOrder = ['point speed', 'invest wise', 'blueline gadgets'];
                    
                    // First, try to get one testimonial from each company in order
                    companyOrder.forEach(targetCompany => {
                        const found = featuredTestimonials.find(t => {
                            const category = getCompanyCategory(t.company);
                            return category === targetCompany && !orderedTestimonials.find(ot => ot.id === t.id);
                        });
                        if (found) {
                            orderedTestimonials.push(found);
                        }
                    });

                    // If we still don't have 3, try more flexible matching
                    if (orderedTestimonials.length < 3) {
                        companyOrder.forEach(targetCompany => {
                            if (orderedTestimonials.length >= 3) return;
                            
                            const found = featuredTestimonials.find(t => {
                                const companyLower = (t.company || '').toLowerCase().trim();
                                const matches = 
                                    (targetCompany === 'point speed' && (companyLower.includes('point') && companyLower.includes('speed'))) ||
                                    (targetCompany === 'invest wise' && (companyLower.includes('invest') && companyLower.includes('wise'))) ||
                                    (targetCompany === 'blueline gadgets' && (companyLower.includes('blue') && (companyLower.includes('line') || companyLower.includes('gadget'))));
                                
                                return matches && !orderedTestimonials.find(ot => ot.id === t.id);
                            });
                            
                            if (found) {
                                orderedTestimonials.push(found);
                            }
                        });
                    }

                    // If we still don't have 3, fill with remaining testimonials from target companies
                    if (orderedTestimonials.length < 3) {
                        featuredTestimonials.forEach(testimonial => {
                            if (orderedTestimonials.length < 3 && !orderedTestimonials.find(t => t.id === testimonial.id)) {
                                orderedTestimonials.push(testimonial);
                            }
                        });
                    }

                    // If we still don't have 3, fill with any other testimonials
                    if (orderedTestimonials.length < 3) {
                        allTestimonials.forEach(testimonial => {
                            if (orderedTestimonials.length < 3 && !orderedTestimonials.find(t => t.id === testimonial.id)) {
                                orderedTestimonials.push(testimonial);
                            }
                        });
                    }

                    // Take only the first 3
                    const finalTestimonials = orderedTestimonials.slice(0, 3);

                    console.log('Featured testimonials:', finalTestimonials.map(t => ({ company: t.company, author: t.authorName })));

                    renderTestimonials(finalTestimonials);
                } catch (error) {
                    console.error('Error loading testimonials:', error);
                    document.getElementById('testimonials-grid').innerHTML = `
                        <div class="col-span-full text-center py-8">
                            <p class="text-gray-600">Unable to load testimonials at this time.</p>
            </div>
                    `;
                }
            }

            function renderTestimonials(testimonials) {
                const grid = document.getElementById('testimonials-grid');
                
                if (testimonials.length === 0) {
                    grid.innerHTML = `
                        <div class="col-span-full text-center py-8">
                            <p class="text-gray-600">No testimonials available yet.</p>
        </div>
                    `;
                    return;
                }

                grid.innerHTML = testimonials.map((testimonial, index) => {
                    const stars = '⭐'.repeat(testimonial.rating || 0);
                    const date = testimonial.createdAt.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });
                    const likeCountHtml = Number.isFinite(testimonial.likeCount) 
                        ? `<span class="text-xs text-gray-500 flex items-center gap-1">
                            <i class="fas fa-thumbs-up text-blue-500"></i>
                            <span class="font-medium">${testimonial.likeCount}</span>
                          </span>`
                        : '';
                    
                    // Truncate review text if too long
                    let reviewText = testimonial.reviewText || '';
                    if (reviewText.length > 180) {
                        reviewText = reviewText.substring(0, 180) + '...';
                    }

                    // Different gradient colors for each card
                    const gradients = [
                        'from-blue-50 to-indigo-50',
                        'from-purple-50 to-pink-50',
                        'from-blue-50 to-blue-50'
                    ];
                    const borderColors = [
                        'border-blue-200',
                        'border-purple-200',
                        'border-blue-200'
                    ];
                    const iconColors = [
                        'text-blue-600',
                        'text-purple-600',
                        'text-blue-600'
                    ];
                    
                    const gradient = gradients[index % gradients.length];
                    const borderColor = borderColors[index % borderColors.length];
                    const iconColor = iconColors[index % iconColors.length];

                    return `
                        <div class="group bg-gradient-to-br ${gradient} rounded-2xl shadow-lg p-6 md:p-8 border-2 ${borderColor} hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 relative overflow-hidden">
                            <!-- Decorative element -->
                            <div class="absolute top-0 right-0 w-32 h-32 bg-white/20 rounded-full -mr-16 -mt-16"></div>
                            
                            <div class="relative z-10">
                                <!-- Header -->
                                <div class="flex items-start justify-between mb-5">
                                    <div class="flex items-center gap-4 flex-1">
                                        ${testimonial.authorImage 
                                            ? `<div class="relative">
                                                <img src="${testimonial.authorImage}" alt="${testimonial.authorName}" class="w-14 h-14 rounded-full object-cover border-3 border-white shadow-md">
                                                ${testimonial.verified ? '<div class="absolute -bottom-1 -right-1 bg-blue-500 rounded-full p-1 border-2 border-white"><i class="fas fa-check text-white text-xs"></i></div>' : ''}
                                              </div>`
                                            : `<div class="relative w-14 h-14 rounded-full bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center border-3 border-white shadow-md">
                                                <i class="fas fa-user text-white text-lg"></i>
                                                ${testimonial.verified ? '<div class="absolute -bottom-1 -right-1 bg-blue-500 rounded-full p-1 border-2 border-white"><i class="fas fa-check text-white text-xs"></i></div>' : ''}
                                              </div>`
                                        }
                                        <div class="flex-1 min-w-0">
                                            <h4 class="font-bold text-gray-900 text-base md:text-lg mb-1 truncate">${escapeHtml(testimonial.authorName)}</h4>
                                            <p class="text-sm text-gray-600 truncate">${escapeHtml(testimonial.company || '')}</p>
                                            ${testimonial.country ? `<p class="text-xs text-gray-500 flex items-center gap-1 mt-1"><i class="fas fa-map-marker-alt"></i> ${escapeHtml(testimonial.country)}</p>` : ''}
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Rating -->
                                <div class="mb-4">
                                    <div class="text-yellow-500 text-lg md:text-xl mb-3">${stars}</div>
                                </div>
                                
                                <!-- Review Text -->
                                <div class="mb-5">
                                    <div class="relative">
                                        <i class="fas fa-quote-left ${iconColor} text-2xl opacity-20 absolute -top-2 -left-1"></i>
                                        <p class="text-gray-700 text-sm md:text-base leading-relaxed pl-6 relative z-10">${escapeHtml(reviewText)}</p>
                                    </div>
                                </div>
                                
                                <!-- Footer -->
                                <div class="flex items-center justify-between pt-5 border-t-2 border-white/50">
                                    <div class="flex items-center gap-3">
                                        ${likeCountHtml}
                                        <span class="text-xs text-gray-500 font-medium">${date}</span>
                                    </div>
                                    <div class="${iconColor}">
                                        <i class="fas fa-quote-right text-xl opacity-30"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');
            }

            function escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }

            // Load testimonials when page loads
            loadFeaturedTestimonials();
        } catch (error) {
            console.error('Firebase initialization error:', error);
            document.getElementById('testimonials-grid').innerHTML = `
                <div class="col-span-full text-center py-8">
                    <p class="text-gray-600">Unable to load testimonials at this time.</p>
                </div>
            `;
        }
    </script>

    <!-- Remove PWA setup -->
    <!-- <link rel="manifest" href="manifest.json"> -->
    <!-- <script>
        // Register the service worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered with scope:', registration.scope);
                    })
                    .catch(error => {
                        console.error('Service Worker registration failed:', error);
                    });
            });
        }
    </script> -->

    <!-- Install Button -->
    <button id="install-button" style="display: none;">Install App</button>

    <!-- Suppress harmless Google API callback errors (from Firebase Analytics) -->
    <script>
        window.addEventListener('error', function(e) {
            // Suppress Google API callback errors that are harmless
            if (e.message && (
                e.message.includes('u[v] is not a function') ||
                e.message.includes('__iframefcb') ||
                e.message.includes('api.js?onload')
            )) {
                e.preventDefault();
                return true;
            }
        }, true);
    </script>

    <!-- Firebase config (env-injected by Vite) -->
    <script type="module" src="./firebase-runtime-config.js"></script>

    <!-- Firebase Configuration (compat) -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-analytics-compat.js"></script>
    <script>
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseCompatConfig = (typeof window !== 'undefined' && window.__FIREBASE_CONFIG__)
      ? window.__FIREBASE_CONFIG__
      : null;
    if (!firebaseCompatConfig || !firebaseCompatConfig.apiKey) {
      console.error('Missing Firebase config. Ensure Vercel env vars (VITE_FIREBASE_*) are set.');
    }

    // Initialize Firebase (compat) - using different variable names to avoid conflicts
    let firebaseCompatAuth = null;
    let firebaseCompatDb = null;
    let firebaseCompatAnalytics = null;
    
    if (typeof firebase !== 'undefined' && firebaseCompatConfig && firebaseCompatConfig.apiKey) {
        try {
            if (!firebase.apps.length) {
                firebase.initializeApp(firebaseCompatConfig);
            }
            // Only call auth/firestore/analytics if app was successfully initialized
            if (firebase.apps.length > 0) {
                firebaseCompatAuth = firebase.auth();
                firebaseCompatDb = firebase.firestore();
                firebaseCompatAnalytics = firebase.analytics();
            }
        } catch (e) {
            console.error('Firebase initialization failed:', e);
        }
    }

    // Function to sign up a user (kept for compatibility if used elsewhere)
    function signUp(email, password) {
        if (!firebaseCompatAuth) {
            return Promise.reject(new Error('Firebase compat auth not initialized'));
        }
        return firebaseCompatAuth.createUserWithEmailAndPassword(email, password)
            .then((userCredential) => {
                const user = userCredential.user;
                console.log('User signed up:', user);
                return user;
            })
            .catch((error) => {
                console.error('Error during sign up:', error.code, error.message);
                throw error;
            });
    }

    // Function to log in a user (kept for compatibility if used elsewhere)
    function logIn(email, password) {
        if (!firebaseCompatAuth) {
            return Promise.reject(new Error('Firebase compat auth not initialized'));
        }
        return firebaseCompatAuth.signInWithEmailAndPassword(email, password)
            .then((userCredential) => {
                const user = userCredential.user;
                console.log('User logged in:', user);
                return user;
            })
            .catch((error) => {
                console.error('Error during login:', error.code, error.message);
                throw error;
            });
    }
    </script>

    <!-- Font Awesome (CSS CDN; avoids kit script CORS issues on localhost) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Add FAQ JavaScript -->
    <script>
    function toggleFAQ(button) {
        const content = button.nextElementSibling;
        const icon = button.querySelector('i');
        
        content.classList.toggle('hidden');
        icon.style.transform = content.classList.contains('hidden') ? 'rotate(0deg)' : 'rotate(180deg)';
    }
    </script>

    <!-- Joint Account Modal Script -->
    <script>
    // Define close function globally so it's available immediately
    window.closeJointAccountModal = function() {
        console.log('closeJointAccountModal called');
        const jointModal = document.getElementById('joint-modal');
        const statusEl = document.getElementById('joint-form-status');
        const form = document.getElementById('joint-account-form');
        const holder3Group = document.getElementById('holder-3-group');
        const holdersCountEl = document.getElementById('holders-count');
        
        // Force hide the modal using both class and style
        if (jointModal) {
            jointModal.classList.add('hidden');
            jointModal.style.display = 'none';
        }
        
        // Restore body scroll
        if (document.body) {
            document.body.style.overflow = '';
            document.body.style.position = '';
        }
        
        // Clear status message
        if (statusEl) statusEl.textContent = '';
        
        // Reset the form
        if (form) {
            form.reset();
            // Reset holder 3 group visibility
            if (holder3Group) {
                holder3Group.classList.add('hidden');
                const holder3Name = document.getElementById('holder-name-3');
                const holder3Email = document.getElementById('holder-name-3-email');
                if (holder3Name) holder3Name.required = false;
                if (holder3Email) holder3Email.required = false;
            }
            // Reset holders count to default
            if (holdersCountEl) holdersCountEl.value = '2';
        }
    };

    // Emergency close function
    window.forceCloseModal = function() {
        const modal = document.getElementById('joint-modal');
        if (modal) {
            modal.classList.add('hidden');
            modal.style.display = 'none';
        }
        if (document.body) {
            document.body.style.overflow = '';
            document.body.style.position = '';
        }
        console.log('Modal force closed');
    };

    // Wait for DOM to be ready
    document.addEventListener('DOMContentLoaded', function() {
        const jointModal = document.getElementById('joint-modal');
        const openJointBtn = document.getElementById('open-joint-modal-btn');
        const closeJointBtn = document.getElementById('close-joint-modal-btn');
        const cancelJointBtn = document.getElementById('cancel-joint-modal-btn');
        const jointBackdrop = document.getElementById('joint-backdrop');
        const jointModalContent = document.getElementById('joint-modal-content');
        const holder3Group = document.getElementById('holder-3-group');
        const holdersCountEl = document.getElementById('holders-count');
        const form = document.getElementById('joint-account-form');
        const statusEl = document.getElementById('joint-form-status');

        if (!jointModal) {
            console.error('Joint modal not found');
            return;
        }

        function openJointModal(e) {
            if (e) e.preventDefault();
            if (jointModal) {
                jointModal.classList.remove('hidden');
                jointModal.style.display = 'flex';
                if (document.body) {
                    document.body.style.overflow = 'hidden';
                }
            }
        }

        // Open modal button
        if (openJointBtn) {
            openJointBtn.addEventListener('click', function(e) {
                e.preventDefault();
                openJointModal(e);
            });
        }

        // Close icon button (X in header) - use direct onclick as primary method
        if (closeJointBtn) {
            // Remove any existing onclick first
            closeJointBtn.onclick = function(e) {
                e.preventDefault();
                e.stopPropagation();
                console.log('Close button clicked (onclick)');
                window.closeJointAccountModal();
                return false;
            };
            // Also add event listener as backup
            closeJointBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                console.log('Close button clicked (listener)');
                window.closeJointAccountModal();
            }, true); // Use capture phase
        } else {
            console.error('Close button not found');
        }

        // Cancel button - use direct onclick as primary method
        if (cancelJointBtn) {
            cancelJointBtn.onclick = function(e) {
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
                console.log('Cancel button clicked (onclick)');
                window.closeJointAccountModal();
                return false;
            };
            // Also add event listener as backup
            cancelJointBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
                console.log('Cancel button clicked (listener)');
                window.closeJointAccountModal();
            }, true); // Use capture phase
            
            // Prevent form submission
            const form = document.getElementById('joint-account-form');
            if (form) {
                form.addEventListener('submit', function(e) {
                    // Don't prevent if it's the actual submit button
                    const submitBtn = e.submitter || e.target.querySelector('#joint-submit-btn');
                    if (!submitBtn || submitBtn.id !== 'joint-submit-btn') {
                        e.preventDefault();
                    }
                });
            }
        } else {
            console.error('Cancel button not found');
        }

        // Prevent clicks inside modal content from closing the modal
        if (jointModalContent) {
            jointModalContent.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        }

        // Close when clicking on backdrop
        if (jointBackdrop) {
            jointBackdrop.onclick = function(e) {
                console.log('Backdrop clicked (onclick)');
                window.closeJointAccountModal();
            };
            jointBackdrop.addEventListener('click', function(e) {
                console.log('Backdrop clicked (listener)');
                window.closeJointAccountModal();
            });
        }
        
        // Also handle clicks on the modal container itself
        if (jointModal) {
            jointModal.addEventListener('click', function(e) {
                // If clicking directly on the modal container (not on content or backdrop), close it
                if (e.target === jointModal) {
                    console.log('Modal container clicked');
                    window.closeJointAccountModal();
                }
            });
        }

        // Also close on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && jointModal && !jointModal.classList.contains('hidden')) {
                e.preventDefault();
                console.log('Escape key pressed');
                window.closeJointAccountModal();
            }
        });

        // Success modal functionality
        const successModal = document.getElementById('joint-success-modal');
        const successBackdrop = document.getElementById('success-backdrop');
        const closeSuccessBtn = document.getElementById('close-success-modal-btn');

        function closeSuccessModal() {
            if (successModal) {
                successModal.classList.add('hidden');
                document.body.style.overflow = '';
            }
        }

        if (closeSuccessBtn) closeSuccessBtn.addEventListener('click', closeSuccessModal);
        if (successBackdrop) successBackdrop.addEventListener('click', closeSuccessModal);

        if (holdersCountEl && holder3Group) {
            const toggleHolder3 = () => {
                if (holdersCountEl.value === '3') {
                    holder3Group.classList.remove('hidden');
                    document.getElementById('holder-name-3').required = true;
                } else {
                    holder3Group.classList.add('hidden');
                    document.getElementById('holder-name-3').required = false;
                }
            };
            holdersCountEl.addEventListener('change', toggleHolder3);
            toggleHolder3();
        }

        if (form) {
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                if (statusEl) statusEl.textContent = 'Submitting...';

                try {
                    const holdersCount = parseInt(document.getElementById('holders-count').value, 10);
                    if (holdersCount < 2 || holdersCount > 3) throw new Error('Number of holders must be 2 or 3');

                    const holderName1 = document.getElementById('holder-name-1').value.trim();
                    const holderName2 = document.getElementById('holder-name-2').value.trim();
                    const holderName3 = (holdersCount === 3 ? document.getElementById('holder-name-3').value.trim() : '');
                    const holderEmail3 = (holdersCount === 3 ? document.getElementById('holder-name-3-email').value.trim() : '');

                    const principalEmail = document.getElementById('principal-email').value.trim();
                    const secondaryEmail = document.getElementById('secondary-email').value.trim();

                    const principalPhone = document.getElementById('principal-phone').value.trim();
                    const secondaryPhone = document.getElementById('secondary-phone').value.trim();

                    const accountType = document.getElementById('account-type').value;
                    const password = document.getElementById('password').value;

                    const businessName = document.getElementById('business-name').value.trim();
                    const businessAddress = document.getElementById('business-address').value.trim();
                    const businessReg = document.getElementById('business-reg').value.trim();

                    const confirmed = document.getElementById('joint-confirm').checked;
                    if (!confirmed) throw new Error('Please confirm all information is correct.');

                    // Create Auth user with principal email
                    const userCredential = await firebaseCompatAuth.createUserWithEmailAndPassword(principalEmail, password);
                    const user = userCredential.user;

                    // Prepare Firestore payload
                    const payload = {
                        holdersCount,
                        holderNames: holdersCount === 3 ? [holderName1, holderName2, holderName3] : [holderName1, holderName2],
                        holderEmails: holdersCount === 3 ? [principalEmail, secondaryEmail, holderEmail3] : [principalEmail, secondaryEmail],
                        principalEmail,
                        secondaryEmail,
                        principalPhone,
                        secondaryPhone,
                        accountType,
                        business: {
                            name: businessName,
                            address: businessAddress,
                            registrationNumber: businessReg
                        },
                        createdAt: firebase.firestore.FieldValue.serverTimestamp()
                    };

                    // Save to Firestore under joint_accounts collection using principal user uid
                    await firebaseCompatDb.collection('joint_accounts').doc(user.uid).set(payload);

                    // Show success modal instead of inline message
                    closeJointModal(); // Close the form modal first
                    
                    // Show the success modal
                    const successModal = document.getElementById('joint-success-modal');
                    if (successModal) {
                        successModal.classList.remove('hidden');
                        document.body.style.overflow = 'hidden';
                    }
                    
                    // Reset the form
                    form.reset();
                    if (holder3Group) holder3Group.classList.add('hidden');
                    const holdersCountElReset = document.getElementById('holders-count');
                    if (holdersCountElReset) holdersCountElReset.value = '2';
                    if (statusEl) statusEl.textContent = ''; // Clear any status messages
                } catch (err) {
                    console.error(err);
                    if (statusEl) statusEl.textContent = `Error: ${err.message}`;
                }
            });
        }
    }); // End of DOMContentLoaded
    </script>

    <script>
        // History generation and management
        (function initHistoryGenerator() {
            // Utility functions
            function isWeekend(d) {
                const day = d.getDay();
                return day === 0 || day === 6;
            }
            function toPreviousBusinessDay(d) {
                const dd = new Date(d);
                while (isWeekend(dd)) dd.setDate(dd.getDate() - 1);
                return dd;
            }
            function randInt(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }
            function formatDate(d) {
                const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                const day = String(d.getDate()).padStart(2, '0');
                const mon = months[d.getMonth()];
                const yy = String(d.getFullYear()).slice(-2);
                return `${day}-${mon}-${yy}`;
            }
            function formatTime(d) {
                let h = d.getHours();
                const m = String(d.getMinutes()).padStart(2, '0');
                const ampm = h >= 12 ? 'pm' : 'am';
                h = h % 12;
                if (h === 0) h = 12;
                return `${h}:${m} ${ampm}`;
            }
            function formatMoney(amountAbs) {
                const nf = new Intl.NumberFormat('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
                return `$${nf.format(amountAbs)}`;
            }
            function randomTxnId(len = 15) {
                const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
                let out = '';
                for (let i = 0; i < len; i++) out += chars.charAt(randInt(0, chars.length - 1));
                return out;
            }
            function getRandomBusinessDay() {
                // Generate a random backdated business day (2-5 months back)
                let date = new Date();
                date.setDate(date.getDate() - randInt(60, 140));
                date = toPreviousBusinessDay(date);
                // Set random working hours (9am to 4pm)
                date.setHours(randInt(9, 16), randInt(0, 59), 0, 0);
                return date;
            }

            // Parse history entry template
            function parseHistoryEntry(input) {
                const parts = input.split('|').map(p => p.trim());
                if (parts.length < 7) {
                    throw new Error('Invalid format. Expected: Type | Date | Name | CP | Amount | Time | TransactionID |');
                }
                
                const type = parts[0].trim();
                const dateStr = parts[1].trim();
                const name = parts[2].trim();
                const cp = parts[3].trim();
                const amountStr = parts[4].trim().replace(/[+$,\s]/g, '');
                const timeStr = parts[5].trim();
                const txnId = parts[6].trim();

                // Determine sign from amount string
                const sign = parts[4].includes('-') ? '-' : '+';
                const amount = parseFloat(amountStr);

                return {
                    type,
                    dateStr,
                    name,
                    cp,
                    amount,
                    sign,
                    timeStr,
                    txnId
                };
            }

            // Store generated histories
            let generatedHistories = [];

            // Generate 15 history variations
            function generateHistories(template) {
                try {
                    const parsed = parseHistoryEntry(template);
                    generatedHistories = [];

                    for (let i = 1; i <= 15; i++) {
                        const dt = getRandomBusinessDay();
                const txnId = randomTxnId(15);

                        const historyEntry = {
                            type: parsed.type,
                            date: formatDate(dt),
                            name: parsed.name,
                            cp: parsed.cp,
                            amount: parsed.amount,
                            sign: parsed.sign,
                            time: formatTime(dt),
                            txnId: txnId,
                            fullLine: `${parsed.type} | ${formatDate(dt)} | ${parsed.name} | ${parsed.cp} | ${parsed.sign}${formatMoney(parsed.amount)} | ${formatTime(dt)} | ${txnId} |`
                        };
                        
                        generatedHistories.push(historyEntry);
                        
                        // Display in history field
                        const container = document.getElementById(`history${i}`);
                        if (container) {
                            container.innerHTML = '';
                const row = document.createElement('div');
                row.className = 'font-mono text-[10px] text-gray-700 whitespace-nowrap overflow-hidden text-ellipsis';
                            row.title = historyEntry.fullLine;
                            row.textContent = historyEntry.fullLine;
                container.appendChild(row);
                        }
                    }

                    // Enable save button
                    const saveBtn = document.getElementById('save-history-btn');
                    if (saveBtn) saveBtn.disabled = false;

                    // Show success message
                    const statusEl = document.getElementById('history-status');
                    if (statusEl) {
                        statusEl.textContent = '✓ Generated 15 history entries successfully!';
                        statusEl.className = 'text-sm text-blue-600';
                    }

                    return generatedHistories;
                } catch (error) {
                    const statusEl = document.getElementById('history-status');
                    if (statusEl) {
                        statusEl.textContent = `Error: ${error.message}`;
                        statusEl.className = 'text-sm text-red-600';
                    }
                    return null;
                }
            }

            // Save histories to Firestore
            async function saveHistoriesToFirestore() {
                if (!generatedHistories || generatedHistories.length === 0) {
                    alert('Please generate histories first!');
                    return;
                }

                const user = firebaseCompatAuth?.currentUser;
                if (!user) {
                    alert('Please log in to save histories.');
                    return;
                }

                const statusEl = document.getElementById('history-status');
                if (statusEl) {
                    statusEl.textContent = 'Saving to Firestore...';
                    statusEl.className = 'text-sm text-blue-600';
                }

                try {
                    // Prepare history data
                    const historyData = {
                        histories: generatedHistories.map(h => ({
                            type: h.type,
                            date: h.date,
                            name: h.name,
                            cp: h.cp,
                            amount: h.amount,
                            sign: h.sign,
                            time: h.time,
                            transactionId: h.txnId,
                            fullLine: h.fullLine
                        })),
                        generatedAt: firebase.firestore.FieldValue.serverTimestamp(),
                        userId: user.uid
                    };

                    // Save to Firestore
                    await firebaseCompatDb.collection('user_histories').doc(user.uid).set(historyData, { merge: true });

                    if (statusEl) {
                        statusEl.textContent = '✓ Histories saved to Firestore successfully!';
                        statusEl.className = 'text-sm text-blue-600';
                    }
                } catch (error) {
                    console.error('Error saving histories:', error);
                    if (statusEl) {
                        statusEl.textContent = `Error saving: ${error.message}`;
                        statusEl.className = 'text-sm text-red-600';
                    }
                }
            }

            // Event listeners
            const generateBtn = document.getElementById('generate-history-btn');
            const saveBtn = document.getElementById('save-history-btn');
            const inputField = document.getElementById('history-template-input');

            if (generateBtn) {
                generateBtn.addEventListener('click', () => {
                    const input = inputField ? inputField.value.trim() : '';
                    if (!input) {
                        alert('Please enter a history entry template.');
                        return;
                    }
                    generateHistories(input);
                });
            }

            if (saveBtn) {
                saveBtn.addEventListener('click', saveHistoriesToFirestore);
            }

            // Allow Enter key to generate
            if (inputField) {
                inputField.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && generateBtn) {
                        generateBtn.click();
                    }
                });
            }
        })();
    </script>

    <!-- Update existing sections to use minimal design -->
    <style>
        /* Update existing card styles */
        .bg-white {
            background-color: #ffffff;
        }
        .bg-gray-50 {
            background-color: #fafafa;
        }
        .text-gray-800 {
            color: #1a1a1a;
        }
        .text-gray-600 {
            color: #4a4a4a;
        }
        .border-gray-200 {
            border-color: #e5e5e5;
        }
        .hover\:bg-gray-800:hover {
            background-color: #1a1a1a;
        }
        /* Mobile menu overlay visibility */
        #overlay { display: none; }
        #overlay.active { display: block; }
    </style>

</body>
</html>






