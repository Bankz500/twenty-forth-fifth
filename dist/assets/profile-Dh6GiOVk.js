import"./modulepreload-polyfill-B5Qt9EMX.js";import{initializeApp as y}from"https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js";import{getAuth as x,onAuthStateChanged as b,signOut as p}from"https://www.gstatic.com/firebasejs/9.1.3/firebase-auth.js";import{getFirestore as N,doc as m,getDoc as h,setDoc as E}from"https://www.gstatic.com/firebasejs/9.1.3/firebase-firestore.js";const I={apiKey:"AIzaSyABYV12B7RM2ZCD2G1lFTLpgJwflJFwEXY",authDomain:"beal-offshore.firebaseapp.com",projectId:"beal-offshore",storageBucket:"beal-offshore.firebasestorage.app",messagingSenderId:"1091834410162",appId:"1:1091834410162:web:56285433b5751e681745ab",measurementId:"G-CT463F3T6J"},w=y(I),d=x(w),f=N(w);let g;const v=6e5;function u(){clearTimeout(g),g=setTimeout(()=>{p(d).then(()=>{window.location.href="login.html"}).catch(t=>{console.error("Error signing out:",t),window.location.href="login.html"})},v)}document.addEventListener("mousemove",u);document.addEventListener("keypress",u);document.addEventListener("click",u);document.addEventListener("scroll",u);document.addEventListener("touchstart",u);u();b(d,async t=>{if(t)try{const r=m(f,"users",t.uid),i=await h(r);if(i.exists()){const o=i.data(),s=(a,c,l="")=>{const n=document.getElementById(a);n&&(n.tagName==="INPUT"?(n.value=c||l,n.placeholder=c||l):n.textContent=c||l)};s("firstName",o.firstName,"First Name"),s("profileUsername",o.firstName,"@syndicate"),s("Deposit-account",o.deposit,"0.00"),s("Profit-wallet",o.profit,"0.00"),s("wallet",o.wallet,"0.00"),s("welcome-message",`Welcome ${o.firstName}`),s("displayEmail",t.email);const e=document.getElementById("status");if(e){const a=o.status||"Processing...";switch(e.textContent=a,a.toLowerCase()){case"active":e.className="bg-green-500 text-white text-xs px-3 py-1 rounded-full";break;case"suspended":e.className="bg-yellow-500 text-white text-xs px-3 py-1 rounded-full";break;case"banned":e.className="bg-red-500 text-white text-xs px-3 py-1 rounded-full";break;case"Processing":e.className="bg-blue-700 text-white text-xs px-3 py-1 rounded-full";break;case"inactive":e.className="bg-gray-500 text-white text-xs px-3 py-1 rounded-full";break;default:e.textContent="Processing",e.className="bg-blue-500 text-white text-xs px-3 py-1 rounded-full"}}}else console.log("No user document found."),console.error("No user data found.")}catch(r){console.error("Error fetching user data:",r)}else console.log("No user signed in. Redirecting to sign-in page."),window.location.href="login.html"});window.signOut=function(){p(d).then(()=>{alert("Signed out successfully!"),window.location.href="login.html"}).catch(t=>{alert("Error signing out: "+t.message)})};window.updateProfile=async function(){var r,i;const t=d.currentUser;if(t){const o=m(f,"users",t.uid),s={firstName:((r=document.getElementById("firstName"))==null?void 0:r.value.trim())||"",lastName:((i=document.getElementById("lastName"))==null?void 0:i.value.trim())||""},e=document.querySelector('button[type="submit"]');e&&(e.disabled=!0,e.textContent="Saving changes...");try{await E(o,s,{merge:!0}),alert("Profile updated successfully!")}catch(a){console.error("Error updating profile:",a),alert("Error updating profile: "+a.message)}finally{e&&(e.disabled=!1,e.textContent="Save Changes")}}else alert("No user is currently signed in.")};window.showUserInfo=async function(){const t=d.currentUser;if(t)try{const r=m(f,"users",t.uid),i=await h(r);if(i.exists()){const o=i.data(),s=(a,c,l="")=>{const n=document.getElementById(a);n&&(n.value=c||l,n.hasAttribute("placeholder")&&(n.placeholder=c||l))};s("firstName",o.firstName,"First Name"),s("status",o.status,"status"),s("email",t.email),s("phone",o.phone);const e=document.getElementById("profileInfoCard");e&&e.classList.remove("hidden")}else console.log("No user document found."),alert("No user data found.")}catch(r){console.error("Error fetching user info:",r),alert("Error fetching user information.")}else alert("No user is currently signed in.")};
