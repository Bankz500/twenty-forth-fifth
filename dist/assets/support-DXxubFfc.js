import"./modulepreload-polyfill-B5Qt9EMX.js";import{a as c,d as m}from"./firebase-client-DudADU2j.js";import{onAuthStateChanged as f,signOut as d}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";import{doc as g,getDoc as u}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";import"./firebase-config-CJaibweW.js";import"https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";f(c,async r=>{if(r){const t=document.getElementById("Deposit-account"),e=document.getElementById("Profit-wallet"),o=document.getElementById("wallet"),n=document.getElementById("welcome-message");t&&(t.textContent="Loading..."),e&&(e.textContent="Loading..."),o&&(o.textContent="Loading..."),n&&(n.textContent="Loading...");try{const s=g(m,"users",r.uid),l=await Promise.race([u(s),new Promise((i,a)=>setTimeout(()=>a(new Error("Timeout")),2e3))]);if(l.exists()){const i=l.data();t&&(t.textContent=`${i.deposit||"0.00"}`),e&&(e.textContent=`${i.profit||"0.00"}`),o&&(o.textContent=`${i.wallet||"0.00"}`),n&&(n.textContent=`Welcome ${i.name||i.firstName||"User"}`)}else console.log("No user document found in Firestore."),t&&(t.textContent="0.00"),e&&(e.textContent="0.00"),o&&(o.textContent="0.00"),n&&(n.textContent="Welcome User")}catch(s){console.error("Error loading user data:",s),t&&(t.textContent="0.00"),e&&(e.textContent="0.00"),o&&(o.textContent="0.00"),n&&(n.textContent="Welcome User")}}else console.log("No user signed in, redirecting to sign-in page."),window.location.href="login.html"});window.signOut=function(){d(c).then(()=>{alert("Signed out successfully!"),window.location.href="login.html"}).catch(r=>{alert("Error signing out: "+r.message)})};
