import"./modulepreload-polyfill-B5Qt9EMX.js";import"./index.esm-DdmE1zD_.js";import{initializeApp as u}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";import{getAuth as c,createUserWithEmailAndPassword as p,sendEmailVerification as g,onAuthStateChanged as y}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";import{getFirestore as b,setDoc as f,doc as h}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";const E={apiKey:"AIzaSyABYV12B7RM2ZCD2G1lFTLpgJwflJFwEXY",authDomain:"beal-offshore.firebaseapp.com",projectId:"beal-offshore",storageBucket:"beal-offshore.firebasestorage.app",messagingSenderId:"1091834410162",appId:"1:1091834410162:web:56285433b5751e681745ab",measurementId:"G-CT463F3T6J"},l=u(E),d=c(l),v=b(l),m=async(s,e)=>{const r=document.getElementById(e==="personal"?"create-personal-account-btn":"create-account-btn"),a=document.getElementById("spinner");try{r.disabled=!0,r.textContent="Creating Account...",a.classList.remove("hidden");const o=(await p(d,s.email,s.password)).user,t={firstName:s.firstName,lastName:s.lastName,email:s.email,accountType:s.accountType,userAccountType:e,createdAt:new Date().toISOString()};e==="personal"?(t.phoneNumber=document.getElementById("phone-number").value.trim(),t.homeAddress=document.getElementById("home-address").value.trim(),t.billingAddress=document.getElementById("billing-address").value.trim()):(t.businessName=document.getElementById("business-name").value.trim(),t.businessType=document.getElementById("business-type").value.trim(),t.businessEin=document.getElementById("business-ein").value.trim(),t.businessCert=document.getElementById("business-cert").value.trim(),t.phoneNumber=document.getElementById("business-phone-number").value.trim()),await f(h(v,"users",o.uid),t),await g(o),document.getElementById("success-modal").classList.remove("hidden"),y(d,i=>{i&&(i.emailVerified?console.log("Email verified. Access granted."):console.log("Please verify your email address."))})}catch(n){console.error("Error during sign-up:",n);const o=w(n.code),t=document.createElement("div");t.className="fixed top-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded z-50",t.innerHTML=`
                <strong class="font-bold">Error!</strong>
                <span class="block sm:inline">${o}</span>
            `,document.body.appendChild(t),setTimeout(()=>{t.remove()},5e3)}finally{r.disabled=!1,r.textContent="Create Account",a.classList.add("hidden")}},w=s=>{switch(s){case"auth/email-already-in-use":return"This email is already registered. Please use a different email or try logging in.";case"auth/weak-password":return"Password is too weak. Please use at least 8 characters with a mix of letters, numbers, and symbols.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/network-request-failed":return"Network error. Please check your internet connection and try again.";case"auth/too-many-requests":return"Too many attempts. Please try again later.";default:return"An unexpected error occurred. Please try again or contact support."}};document.querySelector("#business-info-form").addEventListener("submit",s=>{s.preventDefault();const e={firstName:document.getElementById("first-name").value.trim(),lastName:document.getElementById("last-name").value.trim(),email:document.getElementById("email").value.trim(),accountType:document.getElementById("account-type").value,password:document.getElementById("password").value,confirmPassword:document.getElementById("confirm-password").value};if(!e.firstName||!e.lastName||!e.email||!e.password||!e.accountType){alert("All fields are required.");return}if(e.password!==e.confirmPassword){alert("Passwords do not match.");return}if(e.password.length<8){alert("Password must be at least 8 characters long.");return}const r=document.getElementById("business-name").value.trim(),a=document.getElementById("business-type").value.trim(),n=document.getElementById("business-ein").value.trim(),o=document.getElementById("business-cert").value.trim(),t=document.getElementById("business-phone-number").value.trim();if(!r||!a||!n||!o||!t){alert("All business fields are required.");return}m(e,"business")});document.querySelector("#personal-address-form").addEventListener("submit",s=>{s.preventDefault();const e={firstName:document.getElementById("first-name").value.trim(),lastName:document.getElementById("last-name").value.trim(),email:document.getElementById("email").value.trim(),accountType:document.getElementById("account-type").value,password:document.getElementById("password").value,confirmPassword:document.getElementById("confirm-password").value};if(!e.firstName||!e.lastName||!e.email||!e.password||!e.accountType){alert("All fields are required.");return}if(e.password!==e.confirmPassword){alert("Passwords do not match.");return}if(e.password.length<8){alert("Password must be at least 8 characters long.");return}const r=document.getElementById("phone-number").value.trim(),a=document.getElementById("home-address").value.trim(),n=document.getElementById("billing-address").value.trim();if(!r||!a||!n){alert("All contact information fields are required.");return}m(e,"personal")});
