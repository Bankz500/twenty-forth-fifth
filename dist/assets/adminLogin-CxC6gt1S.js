import"./modulepreload-polyfill-B5Qt9EMX.js";import{initializeApp as g}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";import{getAuth as u,signInWithEmailAndPassword as y,createUserWithEmailAndPassword as p}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";const w={apiKey:"AIzaSyBb9sVH4fMb-a5mQgcDjAfYT9RZHTb3sKE",authDomain:"twenty-third-forth.firebaseapp.com",projectId:"twenty-third-forth",storageBucket:"twenty-third-forth.firebasestorage.app",messagingSenderId:"835548579831",appId:"1:835548579831:web:5259f071b50341af28d0f2",measurementId:"G-KEMCE9679Y"},f=g(w),l=u(f);window.switchToLogin=function(){document.getElementById("loginTab").classList.add("bg-white","text-gray-900","shadow-sm"),document.getElementById("loginTab").classList.remove("text-gray-600","hover:text-gray-900"),document.getElementById("signupTab").classList.remove("bg-white","text-gray-900","shadow-sm"),document.getElementById("signupTab").classList.add("text-gray-600","hover:text-gray-900"),document.getElementById("adminLoginForm").classList.remove("hidden"),document.getElementById("adminSignupForm").classList.add("hidden"),document.getElementById("subtitleText").textContent="Sign in to manage testimonials",document.getElementById("errorMessage").classList.add("hidden"),document.getElementById("successMessage").classList.add("hidden")};window.switchToSignup=function(){document.getElementById("signupTab").classList.add("bg-white","text-gray-900","shadow-sm"),document.getElementById("signupTab").classList.remove("text-gray-600","hover:text-gray-900"),document.getElementById("loginTab").classList.remove("bg-white","text-gray-900","shadow-sm"),document.getElementById("loginTab").classList.add("text-gray-600","hover:text-gray-900"),document.getElementById("adminSignupForm").classList.remove("hidden"),document.getElementById("adminLoginForm").classList.add("hidden"),document.getElementById("subtitleText").textContent="Create a new admin account",document.getElementById("errorMessage").classList.add("hidden"),document.getElementById("successMessage").classList.add("hidden")};window.togglePasswordVisibility=function(){const t=document.getElementById("adminPassword"),e=document.getElementById("passwordEyeIcon");t.type==="password"?(t.type="text",e.classList.remove("fa-eye"),e.classList.add("fa-eye-slash")):(t.type="password",e.classList.remove("fa-eye-slash"),e.classList.add("fa-eye"))};window.toggleSignupPasswordVisibility=function(){const t=document.getElementById("signupPassword"),e=document.getElementById("signupPasswordEyeIcon");t.type==="password"?(t.type="text",e.classList.remove("fa-eye"),e.classList.add("fa-eye-slash")):(t.type="password",e.classList.remove("fa-eye-slash"),e.classList.add("fa-eye"))};window.toggleSignupConfirmPasswordVisibility=function(){const t=document.getElementById("signupConfirmPassword"),e=document.getElementById("signupConfirmPasswordEyeIcon");t.type==="password"?(t.type="text",e.classList.remove("fa-eye"),e.classList.add("fa-eye-slash")):(t.type="password",e.classList.remove("fa-eye-slash"),e.classList.add("fa-eye"))};document.getElementById("adminLoginForm").addEventListener("submit",async t=>{t.preventDefault();const e=document.getElementById("adminEmail").value.trim(),r=document.getElementById("adminPassword").value,d=document.getElementById("loginBtn"),a=document.getElementById("errorMessage"),o=document.getElementById("errorText");a.classList.add("hidden");try{d.disabled=!0,d.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i>Signing in...';const s=await y(l,e,r);window.location.href="admin.html"}catch(s){console.error("Login error:",s);let n="An error occurred during login.";s.code==="auth/user-not-found"||s.code==="auth/wrong-password"?n="Invalid email or password.":s.code==="auth/invalid-email"?n="Invalid email address.":s.code==="auth/too-many-requests"?n="Too many failed attempts. Please try again later.":s.code==="auth/network-request-failed"&&(n="Network error. Please check your connection."),o.textContent=n,a.classList.remove("hidden")}finally{d.disabled=!1,d.innerHTML='<i class="fas fa-sign-in-alt mr-2"></i>Sign In to Admin Dashboard'}});document.getElementById("adminSignupForm").addEventListener("submit",async t=>{t.preventDefault();const e=document.getElementById("signupEmail").value.trim(),r=document.getElementById("signupPassword").value,d=document.getElementById("signupConfirmPassword").value,a=document.getElementById("signupBtn"),o=document.getElementById("errorMessage"),s=document.getElementById("successMessage"),n=document.getElementById("errorText"),m=document.getElementById("successText");if(o.classList.add("hidden"),s.classList.add("hidden"),r!==d){n.textContent="Passwords do not match.",o.classList.remove("hidden");return}if(r.length<6){n.textContent="Password must be at least 6 characters long.",o.classList.remove("hidden");return}try{a.disabled=!0,a.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i>Creating account...';const i=await p(l,e,r);m.textContent="Admin account created successfully! Redirecting...",s.classList.remove("hidden"),setTimeout(()=>{window.location.href="admin.html"},1500)}catch(i){console.error("Signup error:",i);let c="An error occurred during signup.";i.code==="auth/email-already-in-use"?c="This email is already registered. Please sign in instead.":i.code==="auth/invalid-email"?c="Invalid email address.":i.code==="auth/weak-password"?c="Password is too weak. Please use a stronger password.":i.code==="auth/network-request-failed"&&(c="Network error. Please check your connection."),n.textContent=c,o.classList.remove("hidden")}finally{a.disabled=!1,a.innerHTML='<i class="fas fa-user-plus mr-2"></i>Create Admin Account'}});
