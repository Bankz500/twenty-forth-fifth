<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Twenty Forth & Fifth Sign Up</title>
    <link rel="manifest" href="/assets/manifest-BUogpvBM.json">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon-DegQrrWH.png">
    <link rel="icon" href="/assets/favicon-DegQrrWH.png" type="image/png">
    <!-- Include Tailwind CSS -->
    <script src="./tailwind-mono.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Include Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Shared site theme -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg: #f6f9ff;
            --surface: #ffffff;
            --ink: #09090b;
            --muted: #3f3f46;
            --subtle: #71717a;
            --border: #e4e4e7;
            --brand: #16a34a;
            --brand-hover: #15803d;
        }

        html { scroll-behavior: smooth; }
        body { 
            background: var(--bg); 
            color: var(--ink); 
            letter-spacing: -0.01em;
            font-family: 'Inter', sans-serif;
        }

        /* Text-based Logo */
        .text-logo {
            font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", sans-serif;
            font-weight: 650;
            font-size: 1.25rem;
            letter-spacing: -0.02em;
            color: var(--ink);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
        }
        .text-logo .first { color: var(--ink); }
        .text-logo .citizens { color: var(--ink); font-weight: 650; }
        .text-logo .inc {
            font-size: 0.75rem;
            color: var(--subtle);
            font-weight: 600;
            margin-left: 2px;
            vertical-align: super;
        }
        
        /* Primary button */
        .btn-blue {
            background: var(--brand);
            color: white;
            border: 1px solid rgba(16, 43, 99, 0.18);
            transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
        }
        .btn-blue:hover {
            background: var(--brand-hover);
            transform: translateY(-1px);
            box-shadow: 0 18px 50px rgba(0,0,0,0.12);
        }
        
        .account-card {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 24px;
        }
        
        .form-input-focus {
            transition: all 0.3s ease;
        }
        
        .form-input-focus:focus {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            border-color: var(--brand);
        }
        
        .btn-gradient {
            background: var(--brand);
            transition: all 0.3s ease;
        }
        
        .btn-gradient:hover {
            background: var(--brand-hover);
            transform: translateY(-2px);
            box-shadow: 0 18px 50px rgba(0, 0, 0, 0.12);
        }
        
        .progress-container {
            width: 100%;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #1f66e5, #1c4fb8);
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        .custom-select {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236B7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
            background-position: right 10px center;
            background-repeat: no-repeat;
            background-size: 20px;
        }
        
        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 1;
        }
        
        .step:not(:last-child)::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 3px;
            background: #e5e7eb;
            top: 12px;
            left: 50%;
            z-index: -1;
        }
        
        .step.active:not(:last-child)::after {
            background: var(--brand);
        }
        
        .step-circle {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            color: var(--subtle);
            margin-bottom: 8px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .step.active .step-circle {
            background: var(--brand);
            color: white;
            border-color: white;
        }
        
        .step.completed .step-circle {
            background: #10b981;
            color: white;
        }
        
        .step-label {
            font-size: 12px;
            font-weight: 500;
            color: var(--subtle);
        }
        
        .step.active .step-label {
            color: var(--ink);
            font-weight: 600;
        }
        
        .input-with-icon {
            position: relative;
        }
        
        .input-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--subtle);
        }
        
        .input-with-icon input,
        .input-with-icon select {
            padding-left: 40px;
        }
        
        .floating-shapes div {
            position: absolute;
            border-radius: 50%;
            filter: blur(25px);
            opacity: 0.3;
            z-index: -1;
        }
        
        .shape-1 {
            width: 200px;
            height: 200px;
            background: #3b82f6;
            top: 10%;
            left: 10%;
            animation: float 8s infinite alternate;
        }
        
        .shape-2 {
            width: 150px;
            height: 150px;
            background: #60a5fa;
            bottom: 10%;
            right: 10%;
            animation: float 6s infinite alternate-reverse;
        }
        
        .shape-3 {
            width: 100px;
            height: 100px;
            background: #93c5fd;
            top: 40%;
            right: 20%;
            animation: float 10s infinite alternate;
        }
        
        @keyframes float {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }
            100% {
                transform: translate(30px, 30px) rotate(10deg);
            }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        .animate-fade-out {
            animation: fadeOut 0.5s ease forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-20px); }
        }
        
        .feature-item {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
        }
        
        .feature-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(59, 130, 246, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            flex-shrink: 0;
        }
        
        .gradient-text {
            background: linear-gradient(90deg, #1a1a1a 0%, #4a4a4a 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .hover-scale {
            transition: transform 0.3s ease;
        }
        .hover-scale:hover {
            transform: scale(1.02);
        }
        .glass-effect {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
        }
        .monochrome-gradient {
            background: linear-gradient(135deg, #1a1a1a 0%, #333333 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            border-color: #333;
        }
        .minimal-shadow {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .border-hover {
            border: 1px solid #e5e5e5;
            transition: all 0.3s ease;
        }
        .border-hover:hover {
            border-color: #333;
        }
        .text-blue-900 { color: #1a1a1a; }
        .bg-blue-900 { background-color: #1a1a1a; }
        .hover\:bg-blue-800:hover { background-color: #333333; }
        .text-blue-700 { color: #4a4a4a; }
        .hover\:text-blue-700:hover { color: #4a4a4a; }
    </style>
    <!-- Add Firebase SDK -->
    <!-- Firebase config import removed - using inline config in main script -->
  <script type="module" crossorigin src="/assets/account-CMGQrYM7.js"></script>
  <link rel="modulepreload" crossorigin href="/assets/modulepreload-polyfill-B5Qt9EMX.js">
  <link rel="stylesheet" crossorigin href="/assets/site-DY-k9ark.css">
</head>
<body class="font-sans antialiased bg-blue-50">

    <!-- Shared public-site header (do not use on dashboard pages) -->
<nav class="fixed top-0 left-0 right-0 nav-shell z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6">
    <!-- Utility bar -->
    <div class="hidden md:flex items-center justify-between py-2 text-xs border-b border-green-100">
      <div class="flex items-center gap-2 text-green-800">
        <span class="text-green-800">
          Support:
          <a class="underline underline-offset-2 hover:text-green-900" href="mailto:support@twentyforthfifth.com">support@twentyforthfifth.com</a>
        </span>
      </div>
      <div class="flex items-center gap-4 text-green-800">
        <a class="hover:text-green-900" href="support.html">Help Center</a>
        <a class="hover:text-green-900" href="security.html">Security</a>
        <a class="hover:text-green-900" href="sign-up.html">Open an account</a>
      </div>
    </div>

    <!-- Main bar -->
    <div class="flex items-center justify-between py-3">
      <div class="flex items-center gap-3 w-full md:w-auto">
        <a href="index.html" class="inline-flex items-center" data-nav aria-label="Twenty Forth & Fifth">
          <img src="/11.png" alt="Twenty Forth & Fifth" class="h-14 md:h-16 w-auto">
        </a>

        <!-- Mobile Menu Button -->
        <div class="md:hidden ml-auto">
          <button id="mobile-menu-button" class="text-green-950 focus:outline-none" aria-label="Open menu">
            <i class="fas fa-bars text-2xl"></i>
          </button>
        </div>
      </div>

      <!-- Desktop links -->
      <div class="hidden md:flex items-center gap-1 ml-auto">
        <a href="index.html" class="nav-link" data-nav>Home</a>
        <a href="about-us.html" class="nav-link" data-nav>About</a>
        <a href="personal.html" class="nav-link" data-nav>Personal</a>
        <a href="business.html" class="nav-link" data-nav>Business</a>
        <a href="contact.html" class="nav-link" data-nav>Contact</a>

        <div id="auth-nav-button" class="ml-2">
          <a href="login.html" class="btn-blue px-5 py-2.5 rounded-xl font-semibold inline-flex items-center shadow-sm">
            <i class="fas fa-sign-in-alt mr-2"></i>Sign in
          </a>
        </div>
      </div>
    </div>
  </div>
</nav>

<!-- Mobile Menu -->
<div id="mobile-menu" class="fixed inset-0 bg-white shadow-lg transform translate-x-full transition-transform duration-300 ease-in-out md:hidden z-50">
  <div class="p-6">
    <button id="close-menu" class="absolute top-4 right-4 text-2xl text-green-700" aria-label="Close menu">✖</button>

    <nav class="w-full flex flex-col items-center space-y-4 mt-10">
      <a href="index.html" class="w-4/5 py-3 text-center border border-green-200 text-green-900 text-sm font-medium bg-white rounded hover:bg-green-50 hover:border-green-300 transition duration-300">Home</a>
      <a href="about-us.html" class="w-4/5 py-3 text-center border border-green-200 text-green-900 text-sm font-medium bg-white rounded hover:bg-green-50 hover:border-green-300 transition duration-300">About</a>
      <a href="personal.html" class="w-4/5 py-3 text-center border border-green-200 text-green-900 text-sm font-medium bg-white rounded hover:bg-green-50 hover:border-green-300 transition duration-300">Personal</a>
      <a href="business.html" class="w-4/5 py-3 text-center border border-green-200 text-green-900 text-sm font-medium bg-white rounded hover:bg-green-50 hover:border-green-300 transition duration-300">Business</a>
      <a href="contact.html" class="w-4/5 py-3 text-center border border-green-200 text-green-900 text-sm font-medium bg-white rounded hover:bg-green-50 hover:border-green-300 transition duration-300">Contact</a>
      <div id="auth-nav-button-mobile" class="w-4/5">
        <a href="login.html" class="w-full py-3 text-center border border-green-200 text-green-900 text-sm font-medium bg-white rounded hover:bg-green-50 hover:border-green-300 transition duration-300 block">Sign in</a>
      </div>
    </nav>
  </div>
</div>
<div id="overlay" class="fixed inset-0 bg-green-950/40 hidden z-40"></div>




<script>
window.onload = function () {
    const splashScreen = document.getElementById('splash-screen');
    setTimeout(() => {
        if (splashScreen) splashScreen.style.display = 'none'; // Hide the splash screen
        if (document.body) document.body.style.overflow = 'auto'; // Restore scroll
    }, 4000); // Adjust time to match animation duration
};
</script>
    

<!-- Open Account Section -->
<section class="pt-24 md:pt-32 pb-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
        <div class="flex items-center justify-center">
            <div class="account-card flex flex-col md:flex-row overflow-hidden max-w-5xl w-full shadow-lg">
                <!-- Form Sections Container -->
                <div class="w-full md:w-3/5 p-8 md:p-12 relative pt-16 md:pt-8 bg-white">
            <!-- Progress Steps Indicator -->
            <div class="step-indicator mb-8" id="step-indicator">
                <div class="step active flex-1" id="step-0-indicator">
                    <div class="step-circle">1</div>
                    <span class="step-label">Account Type</span>
                </div>
                <div class="step flex-1" id="step-1-indicator">
                    <div class="step-circle">2</div>
                    <span class="step-label">Personal Details</span>
                </div>
                <div class="step flex-1" id="step-2-indicator">
                    <div class="step-circle">3</div>
                    <span class="step-label" id="step-2-label">Additional Info</span>
                </div>
            </div>
            
            <!-- Form Section: Step 0 - Account Type Selection -->
            <div id="step-0" class="animate-fade-in">
                <div class="text-center mb-8">
                    <div class="inline-flex items-center gap-2 bg-blue-50 border border-blue-100 rounded-full px-4 py-2 shadow-sm mb-4">
                        <span class="w-2 h-2 rounded-full bg-blue-600"></span>
                        <span class="text-blue-800 text-xs font-semibold uppercase tracking-wider">Account Setup</span>
                    </div>
                    <h2 class="text-3xl md:text-4xl font-extrabold text-blue-950 mb-3">Choose Your Account Type</h2>
                    <p class="text-blue-800 text-base max-w-lg mx-auto">
                        Select whether you want to open a personal, business, or joint account.
                    </p>
                </div>
                
                <div class="space-y-4">
                    <button type="button" id="account-type-personal" class="w-full border-2 border-blue-200 rounded-xl p-6 text-left hover:border-blue-500 hover:bg-blue-50 transition duration-300 account-type-btn bg-white" data-type="personal">
                        <div class="flex items-center">
                            <div class="w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mr-4">
                                <i class="fas fa-user text-xl text-blue-700"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-bold text-blue-950">Personal Account</h3>
                                <p class="text-sm text-blue-800">For individual banking needs</p>
                            </div>
                        </div>
                    </button>
                    
                    <button type="button" id="account-type-business" class="w-full border-2 border-blue-200 rounded-xl p-6 text-left hover:border-blue-500 hover:bg-blue-50 transition duration-300 account-type-btn bg-white" data-type="business">
                        <div class="flex items-center">
                            <div class="w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mr-4">
                                <i class="fas fa-building text-xl text-blue-700"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-bold text-blue-950">Business Account</h3>
                                <p class="text-sm text-blue-800">For business banking needs</p>
                            </div>
                        </div>
                    </button>
                    
                    <button type="button" id="account-type-joint" class="w-full border-2 border-blue-200 rounded-xl p-6 text-left hover:border-blue-500 hover:bg-blue-50 transition duration-300 account-type-btn bg-white" data-type="joint">
                        <div class="flex items-center">
                            <div class="w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mr-4">
                                <i class="fas fa-users text-xl text-blue-700"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-bold text-blue-950">Joint Account</h3>
                                <p class="text-sm text-blue-800">For shared banking with 2-3 account holders</p>
                            </div>
                        </div>
                    </button>
                </div>
            </div>
            
            <!-- Form Section: Step 1 - Personal Details -->
            <div id="step-1" class="hidden">
                <div class="text-center mb-8">
                    <h2 class="text-3xl md:text-4xl font-extrabold text-blue-950 mb-3">Personal Information</h2>
                    <p class="text-blue-800 text-base max-w-lg mx-auto">
                        Please provide your personal details to continue.
                    </p>
                </div>
                
                <form id="personal-info-form" class="space-y-3">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="input-with-icon">
                            <i class="fas fa-user input-icon"></i>
                            <div>
                                <label for="first-name" class="block text-sm font-semibold text-blue-950 mb-2">First Name</label>
                                <input type="text" id="first-name" name="first-name" required placeholder="Enter your first name" 
                                    class="form-input-focus w-full border border-blue-200 rounded-xl p-4 pl-12 bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-blue-400 text-blue-950">
                            </div>
                        </div>
                        <div class="input-with-icon">
                            <i class="fas fa-user input-icon"></i>
                            <div>
                                <label for="last-name" class="block text-sm font-medium text-blue-950 mb-1">Last Name</label>
                                <input type="text" id="last-name" name="last-name" required placeholder="Enter your last name" 
                                    class="form-input-focus w-full border border-blue-200 rounded-xl p-4 pl-12 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-blue-400">
                            </div>
                        </div>
                    </div>
                    
                    <div class="input-with-icon">
                        <i class="fas fa-envelope input-icon"></i>
                        <div>
                            <label for="email" class="block text-sm font-medium text-blue-950 mb-1">Email Address</label>
                            <input type="email" id="email" name="email" required placeholder="Enter your email" 
                                class="form-input-focus w-full border border-blue-200 rounded-xl p-4 pl-12 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-blue-400">
                        </div>
                    </div>
                    
                    <div class="input-with-icon">
                        <i class="fas fa-phone input-icon"></i>
                        <div>
                            <label for="phone-number" class="block text-sm font-medium text-blue-950 mb-1">Phone Number</label>
                            <input type="tel" id="phone-number" name="phone-number" required placeholder="Enter your phone number" 
                                class="form-input-focus w-full border border-blue-200 rounded-xl p-4 pl-12 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-blue-400">
                        </div>
                    </div>
                    
                    <div class="input-with-icon">
                        <i class="fas fa-building input-icon"></i>
                        <div>
                            <label for="account-type" class="block text-sm font-medium text-blue-950 mb-1">Account Type</label>
                            <select id="account-type" name="account-type" required 
                                class="form-input-focus custom-select w-full border border-blue-200 rounded-xl p-4 pl-12 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none">
                                <option value="">Select Account Type</option>
                                <option value="checking">Fixed Deposit</option>
                                <option value="savings">Savings Account</option>
                                <option value="current">Checking Account</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Hidden field to store user account type (personal/business) -->
                    <input type="hidden" id="user-account-type" name="user-account-type" value="">
                    
                    <!-- Password -->
                    <div class="relative input-with-icon">
                        <i class="fas fa-lock input-icon"></i>
                        <div>
                            <label for="password" class="block text-sm font-medium text-blue-950 mb-1">Create Password</label>
                            <div class="relative">
                                <input type="password" id="password" name="password" required placeholder="Create a password"
                                    class="form-input-focus w-full border border-blue-200 rounded-xl p-4 pl-12 pr-12 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-blue-400">
                                <button type="button" onclick="togglePasswordVisibility('password', 'eyeIcon1')" 
                                    class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-blue-950">
                                    <i class="fas fa-eye" id="eyeIcon1"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Confirm Password -->
                    <div class="relative input-with-icon">
                        <i class="fas fa-lock input-icon"></i>
                        <div>
                            <label for="confirm-password" class="block text-sm font-medium text-blue-950 mb-1">Confirm Password</label>
                            <div class="relative">
                                <input type="password" id="confirm-password" name="confirm-password" required placeholder="Confirm your password"
                                    class="form-input-focus w-full border border-blue-200 rounded-xl p-4 pl-12 pr-12 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-blue-400">
                                <button type="button" onclick="togglePasswordVisibility('confirm-password', 'eyeIcon2')" 
                                    class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-blue-950">
                                    <i class="fas fa-eye" id="eyeIcon2"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="pt-4 flex space-x-4">
                        <button type="button" id="back-to-account-type" class="w-1/3 bg-blue-100 text-blue-950 py-4 rounded-xl font-medium text-base transition duration-300 hover:bg-blue-200">
                            <i class="fas fa-arrow-left mr-2"></i>Back
                        </button>
                        <button type="button" id="continue-btn" class="w-2/3 btn-gradient text-white py-4 rounded-xl font-medium text-base transition duration-300">
                            <i class="fas fa-arrow-right mr-2"></i>Continue
                        </button>
                    </div>
                </form>
            </div>

            <!-- Form Section: Step 2 - Personal Account Address & Phone -->
            <div id="step-2-personal" class="hidden">
                <div class="mb-6">
                    <div class="inline-flex items-center gap-2 bg-blue-50 border border-blue-100 rounded-full px-4 py-2 shadow-sm mb-4">
                        <span class="w-2 h-2 rounded-full bg-blue-600"></span>
                        <span class="text-blue-800 text-xs font-semibold uppercase tracking-wider">Account Setup</span>
                    </div>
                    <h2 class="text-2xl md:text-3xl font-extrabold text-blue-950 mb-2">account setup.</h2>
                </div>
                
                <form id="personal-address-form" class="space-y-4">
                    <div class="input-with-icon">
                        <i class="fas fa-phone input-icon"></i>
                        <div>
                            <label for="phone-number" class="block text-sm font-medium text-blue-950 mb-1">Phone Number</label>
                            <input type="tel" id="phone-number" name="phone-number" required placeholder="Enter your phone number" 
                                class="form-input-focus w-full border border-blue-200 rounded-xl p-4 pl-12 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-blue-400 text-blue-950">
                        </div>
                    </div>
                    
                    <div class="input-with-icon">
                        <i class="fas fa-home input-icon"></i>
                        <div>
                            <label for="home-address" class="block text-sm font-medium text-blue-950 mb-1">Home Address</label>
                            <input type="text" id="home-address" name="home-address" required placeholder="Enter your home address" 
                                class="form-input-focus w-full border border-blue-200 rounded-xl p-4 pl-12 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-blue-400 text-blue-950">
                        </div>
                    </div>
                    
                    <div class="input-with-icon">
                        <i class="fas fa-map-marker-alt input-icon"></i>
                        <div>
                            <label for="billing-address" class="block text-sm font-medium text-blue-950 mb-1">Billing Address</label>
                            <input type="text" id="billing-address" name="billing-address" required placeholder="Enter your billing address" 
                                class="form-input-focus w-full border border-blue-200 rounded-xl p-4 pl-12 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-blue-400 text-blue-950">
                        </div>
                    </div>
                    
                    <div class="flex items-start space-x-3 pt-2">
                        <input type="checkbox" id="personal-terms-confirm" required class="mt-1 w-5 h-5 text-blue-950 border-2 border-blue-200 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer">
                        <label for="personal-terms-confirm" class="text-sm text-blue-950 leading-relaxed cursor-pointer">
                            I confirm that the information provided above is correct and all holders are in mutual understanding. I agree to the <a href="terms.html" class="text-blue-600 font-medium underline hover:text-blue-800">terms and conditions</a> of opening a joint account.
                        </label>
                    </div>
                    
                    <div class="flex space-x-4 pt-4">
                        <button type="button" id="back-to-personal-details" class="w-1/3 bg-blue-100 text-blue-950 py-4 rounded-xl font-medium text-base transition duration-300 hover:bg-blue-200">
                            <i class="fas fa-arrow-left mr-2"></i>← Back
                        </button>
                        <button type="submit" id="create-personal-account-btn" data-no-loading="true" class="w-2/3 btn-gradient text-white py-4 rounded-xl font-medium text-base transition duration-300">
                            Create Account
                        </button>
                    </div>
                    
                    <div class="text-center pt-2">
                        <p class="text-blue-800 text-sm">Already have an account? <a href="login.html" class="text-blue-600 font-medium hover:text-blue-800 transition duration-200 hover:underline">Log in</a></p>
                    </div>
                </form>
            </div>

            <!-- Form Section: Step 2 - Business Information -->
            <div id="step-2-business" class="hidden">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-blue-950 mb-3">Business Information</h2>
                    <p class="text-blue-800 text-base max-w-lg mx-auto">
                        Provide your business details to complete your account setup.
                    </p>
                </div>
                
                <form id="business-info-form" class="space-y-3">
                    <div class="input-with-icon">
                        <i class="fas fa-building input-icon"></i>
                        <div>
                            <label for="business-name" class="block text-sm font-medium text-blue-950 mb-1">Business Name</label>
                            <input type="text" id="business-name" name="business-name" required placeholder="Enter your business name" 
                                class="form-input-focus w-full border border-blue-200 rounded-xl p-4 pl-12 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-blue-400">
                        </div>
                    </div>
                    
                    <div class="input-with-icon">
                        <i class="fas fa-building input-icon"></i>
                        <div>
                            <label for="business-type" class="block text-sm font-medium text-blue-950 mb-1">Business Type</label>
                            <input type="text" id="business-type" name="business-type" required placeholder="Enter your business type" 
                                class="form-input-focus w-full border border-blue-200 rounded-xl p-4 pl-12 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-blue-400">
                        </div>
                    </div>
                    
                    <div class="input-with-icon">
                        <i class="fas fa-hashtag input-icon"></i>
                        <div>
                            <label for="business-ein" class="block text-sm font-medium text-blue-950 mb-1">Business EIN</label>
                            <input type="text" id="business-ein" name="business-ein" required placeholder="Enter your business EIN" 
                                class="form-input-focus w-full border border-blue-200 rounded-xl p-4 pl-12 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-blue-400">
                        </div>
                    </div>
                    
                    <div class="input-with-icon">
                        <i class="fas fa-file-signature input-icon"></i>
                        <div>
                            <label for="business-cert" class="block text-sm font-medium text-blue-950 mb-1">Business Certificate</label>
                            <input type="text" id="business-cert" name="business-cert" required placeholder="Enter your business certificate" 
                                class="form-input-focus w-full border border-blue-200 rounded-xl p-4 pl-12 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-blue-400">
                        </div>
                    </div>
                    
                    <div class="input-with-icon">
                        <i class="fas fa-phone input-icon"></i>
                        <div>
                            <label for="business-phone-number" class="block text-sm font-medium text-blue-950 mb-1">Phone Number</label>
                            <input type="tel" id="business-phone-number" name="business-phone-number" required placeholder="Enter your phone number" 
                                class="form-input-focus w-full border border-blue-200 rounded-xl p-4 pl-12 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-blue-400">
                        </div>
                    </div>
                    
                    <div class="flex space-x-4 pt-4">
                        <button type="button" id="back-to-personal-details-business" class="w-1/3 bg-blue-100 text-blue-950 py-4 rounded-xl font-medium text-base transition duration-300 hover:bg-blue-200">
                            <i class="fas fa-arrow-left mr-2"></i>Back
                        </button>
                        <button type="submit" id="create-account-btn" data-no-loading="true" class="w-2/3 btn-gradient text-white py-4 rounded-xl font-medium text-base transition duration-300">
                            Create Account
                        </button>
                    </div>
                </form>
            </div>

        </div>

        <!-- Visual Section - Account Protection Panel -->
        <div class="hidden md:block w-full md:w-2/5 bg-gradient-to-br from-blue-700 to-blue-900 relative overflow-hidden">
            <div class="absolute -inset-10 bg-gradient-to-tr from-blue-300/25 via-transparent to-indigo-400/40 opacity-70"></div>
            <div class="relative h-full flex flex-col justify-center p-8 md:p-10 text-white">
                <div class="space-y-6">
                    <div class="inline-flex items-center gap-2 bg-white/10 border border-white/20 rounded-full px-4 py-2 shadow-sm">
                        <span class="w-2 h-2 rounded-full bg-emerald-300"></span>
                        <span class="text-xs font-semibold tracking-widest uppercase">ACCOUNT PROTECTION</span>
                    </div>

                    <div>
                        <h3 class="text-2xl font-bold mb-2">Built-in verification</h3>
                        <p class="text-sm text-blue-100/90 leading-relaxed">
                            Extra checks and secure flows help protect new accounts and support ongoing access to your Twenty Forth & Fifth profile.
                        </p>
                    </div>

                    <ul class="space-y-3 text-sm text-blue-50">
                        <li class="flex items-center gap-3">
                            <div class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-shield-alt text-emerald-300"></i>
                            </div>
                            <span>Verification steps during sign-up</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <div class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-lock text-emerald-300"></i>
                            </div>
                            <span>Secure password requirements and checks</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <div class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-user-check text-emerald-300"></i>
                            </div>
                            <span>Support for KYC and compliance reviews</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    html, body {
        overflow: auto; /* Ensures scrolling is enabled */
    }
    .loader {
        border: 8px solid rgba(0, 0, 0, 0.1); /* Light grey */
        border-top: 8px solid #3498db; /* Blue */
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    /* New spinner styles */
    .smart-spinner {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(45deg, #3498db, #8e44ad);
        animation: smart-spin 1.5s linear infinite;
    }

    @keyframes smart-spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .smart-spinner::before {
        content: '';
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: white;
        position: absolute;
    }
</style>

<script>
    // Store selected account type globally
    let selectedAccountType = '';

    // Account type selection handlers
    document.querySelectorAll('.account-type-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const accountType = this.dataset.type;
            
            // If joint account, open the modal instead
            if (accountType === 'joint') {
                // Remove active state from all buttons
                document.querySelectorAll('.account-type-btn').forEach(b => {
                    b.classList.remove('border-gray-500', 'bg-gray-50');
                    b.classList.add('border-blue-200');
                });
                
                // Add active state to clicked button
                this.classList.remove('border-blue-200');
                this.classList.add('border-gray-500', 'bg-gray-50');
                
                // Open joint account modal
                const jointModal = document.getElementById('joint-modal');
                if (jointModal) {
                    jointModal.classList.remove('hidden');
                    document.body.style.overflow = 'hidden';
                }
                return;
            }
            
            // Remove active state from all buttons
            document.querySelectorAll('.account-type-btn').forEach(b => {
                b.classList.remove('border-gray-500', 'bg-gray-50');
                b.classList.add('border-blue-200');
            });
            
            // Add active state to clicked button
            this.classList.remove('border-blue-200');
            this.classList.add('border-gray-500', 'bg-gray-50');
            
            selectedAccountType = accountType;
            document.getElementById('user-account-type').value = selectedAccountType;
            
            // Update step indicator
            document.getElementById('step-0-indicator').classList.add('completed');
            document.getElementById('step-0-indicator').classList.remove('active');
            document.getElementById('step-1-indicator').classList.add('active');
            
            // Show step 1 after a short delay
            setTimeout(() => {
                document.getElementById("step-0").classList.add("hidden");
                document.getElementById("step-1").classList.remove("hidden");
                document.getElementById("step-1").classList.add("animate-fade-in");
                // Scroll to top of form on mobile
                document.querySelector('.account-card').scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 300);
        });
    });

    // Back to account type selection
    document.getElementById("back-to-account-type").addEventListener("click", function() {
        document.getElementById("step-1").classList.add("hidden");
        document.getElementById("step-0").classList.remove("hidden");
        document.getElementById("step-0").classList.add("animate-fade-in");
        
        // Reset step indicator
        document.getElementById('step-0-indicator').classList.remove('completed');
        document.getElementById('step-0-indicator').classList.add('active');
        document.getElementById('step-1-indicator').classList.remove('active');
    });

    // Continue button handler
    document.getElementById("continue-btn").addEventListener("click", function() {
        const formData = {
            firstName: document.getElementById("first-name").value.trim(),
            lastName: document.getElementById("last-name").value.trim(),
            email: document.getElementById("email").value.trim(),
            accountType: document.getElementById("account-type").value,
            password: document.getElementById("password").value,
            confirmPassword: document.getElementById("confirm-password").value,
        };

        // Validate form data
        if (!formData.firstName || !formData.lastName || !formData.email || !formData.password || !formData.accountType) {
            alert("All fields are required.");
            return;
        }
        if (formData.password !== formData.confirmPassword) {
            alert("Passwords do not match.");
            return;
        }
        if (formData.password.length < 8) {
            alert("Password must be at least 8 characters long.");
            return;
        }

        // Show spinner
        document.getElementById('spinner').classList.remove('hidden');

        // Update step indicator
        document.getElementById('step-1-indicator').classList.add('completed');
        document.getElementById('step-1-indicator').classList.remove('active');
        document.getElementById('step-2-indicator').classList.add('active');
        
        // Update step 2 label based on account type
        if (selectedAccountType === 'personal') {
            document.getElementById('step-2-label').textContent = 'Contact Information';
        } else {
            document.getElementById('step-2-label').textContent = 'Business Information';
        }

        // Simulate a delay for processing
        setTimeout(() => {
            // Hide spinner
            document.getElementById('spinner').classList.add('hidden');

            // Proceed to the next step based on account type
            document.getElementById("step-1").classList.add("hidden");
            
            // Hide both step 2 forms first
            document.getElementById("step-2-personal").classList.add("hidden");
            document.getElementById("step-2-business").classList.add("hidden");
            
            // Show the appropriate step 2 form
            if (selectedAccountType === 'personal') {
                document.getElementById("step-2-personal").classList.remove("hidden");
                document.getElementById("step-2-personal").classList.add("animate-fade-in");
            } else if (selectedAccountType === 'business') {
                document.getElementById("step-2-business").classList.remove("hidden");
                document.getElementById("step-2-business").classList.add("animate-fade-in");
            } else {
                console.error("Unknown account type:", selectedAccountType);
            }
            
            // Scroll to top of form on mobile
            setTimeout(() => {
                document.querySelector('.account-card').scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }, 500);
    });

    // Back to personal details (from personal address form)
    document.getElementById("back-to-personal-details").addEventListener("click", function() {
        document.getElementById("step-2-personal").classList.add("hidden");
        document.getElementById("step-1").classList.remove("hidden");
        document.getElementById("step-1").classList.add("animate-fade-in");
        
        // Update step indicator
        document.getElementById('step-2-indicator').classList.remove('active');
        document.getElementById('step-1-indicator').classList.remove('completed');
        document.getElementById('step-1-indicator').classList.add('active');
    });

    // Back to personal details (from business form)
    document.getElementById("back-to-personal-details-business").addEventListener("click", function() {
        document.getElementById("step-2-business").classList.add("hidden");
        document.getElementById("step-1").classList.remove("hidden");
        document.getElementById("step-1").classList.add("animate-fade-in");
        
        // Update step indicator
        document.getElementById('step-2-indicator').classList.remove('active');
        document.getElementById('step-1-indicator').classList.remove('completed');
        document.getElementById('step-1-indicator').classList.add('active');
    });

    // Password visibility toggle function
    function togglePasswordVisibility(inputId, iconId) {
        const input = document.getElementById(inputId);
        const icon = document.getElementById(iconId);
        
        if (input.type === 'password') {
            input.type = 'text';
            icon.classList.remove('fa-eye');
            icon.classList.add('fa-eye-slash');
        } else {
            input.type = 'password';
            icon.classList.remove('fa-eye-slash');
            icon.classList.add('fa-eye');
        }
    }
</script>



<!-- Firebase Compat SDK for Joint Account -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
<script>
    // Initialize Firebase Compat for Joint Account
    const firebaseCompatConfig = {
        apiKey: "AIzaSyA3x-CZApUgkWHCjlwvFtOQhYQeY6lDwpI",
        authDomain: "twenty-forth-fifth.firebaseapp.com",
        projectId: "twenty-forth-fifth",
        storageBucket: "twenty-forth-fifth.firebasestorage.app",
        messagingSenderId: "228269383587",
        appId: "1:228269383587:web:0d6f063f221f388cd2c416",
        measurementId: "G-3X9DT5MBV4"
    };
    if (!firebase.apps.length) {
        firebase.initializeApp(firebaseCompatConfig);
    }
    const authCompat = firebase.auth();
    const dbCompat = firebase.firestore();
</script>

<!-- Joint Account Modal Script -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const jointModal = document.getElementById('joint-modal');
        const closeJointBtn = document.getElementById('close-joint-modal-btn');
        const cancelJointBtn = document.getElementById('cancel-joint-modal-btn');
        const jointBackdrop = document.getElementById('joint-backdrop');
        const form = document.getElementById('joint-account-form');
        const holdersCountEl = document.getElementById('holders-count');
        const holder3Group = document.getElementById('holder-3-group');
        const statusEl = document.getElementById('joint-form-status');

        function closeJointModal(e) {
            if (e) {
                e.preventDefault();
                e.stopPropagation();
            }
            if (!jointModal) return;

            // Hide the modal
            jointModal.classList.add('hidden');
            if (document.body) document.body.style.overflow = '';

            // Clear status message
            if (statusEl) statusEl.textContent = '';

            // Reset the form
            if (form) {
                form.reset();
                // Reset holder 3 group visibility
                if (holder3Group) {
                    holder3Group.classList.add('hidden');
                    const holder3Name = document.getElementById('holder-name-3');
                    const holder3Email = document.getElementById('holder-name-3-email');
                    if (holder3Name) holder3Name.required = false;
                    if (holder3Email) holder3Email.required = false;
                }
                // Reset holders count to default
                if (holdersCountEl) holdersCountEl.value = '2';
            }
        }

        if (closeJointBtn) closeJointBtn.addEventListener('click', closeJointModal);
        if (cancelJointBtn) cancelJointBtn.addEventListener('click', closeJointModal);
        if (jointBackdrop) jointBackdrop.addEventListener('click', closeJointModal);

        // Also close on Escape key
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape' && jointModal && !jointModal.classList.contains('hidden')) {
                closeJointModal(e);
            }
        });

        // Success modal functionality
        const successModal = document.getElementById('joint-success-modal');
        const successBackdrop = document.getElementById('success-backdrop');
        const closeSuccessBtn = document.getElementById('close-success-modal-btn');

        function closeSuccessModal(e) {
            if (e) e.preventDefault();
            if (successModal) {
                successModal.classList.add('hidden');
                if (document.body) document.body.style.overflow = '';
            }
        }

        if (closeSuccessBtn) closeSuccessBtn.addEventListener('click', closeSuccessModal);
        if (successBackdrop) successBackdrop.addEventListener('click', closeSuccessModal);

        if (holdersCountEl && holder3Group) {
            const toggleHolder3 = () => {
                if (holdersCountEl.value === '3') {
                    holder3Group.classList.remove('hidden');
                    const holder3Name = document.getElementById('holder-name-3');
                    if (holder3Name) holder3Name.required = true;
                } else {
                    holder3Group.classList.add('hidden');
                    const holder3Name = document.getElementById('holder-name-3');
                    if (holder3Name) holder3Name.required = false;
                }
            };
            holdersCountEl.addEventListener('change', toggleHolder3);
            toggleHolder3();
        }

        if (form) {
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                if (statusEl) statusEl.textContent = 'Submitting...';

                try {
                    const holdersCount = parseInt(document.getElementById('holders-count').value, 10);
                    if (holdersCount < 2 || holdersCount > 3) throw new Error('Number of holders must be 2 or 3');

                    const holderName1 = document.getElementById('holder-name-1').value.trim();
                    const holderName2 = document.getElementById('holder-name-2').value.trim();
                    const holderName3 = (holdersCount === 3 ? document.getElementById('holder-name-3').value.trim() : '');
                    const holderEmail3 = (holdersCount === 3 ? document.getElementById('holder-name-3-email').value.trim() : '');

                    const principalEmail = document.getElementById('principal-email').value.trim();
                    const secondaryEmail = document.getElementById('secondary-email').value.trim();

                    const principalPhone = document.getElementById('principal-phone').value.trim();
                    const secondaryPhone = document.getElementById('secondary-phone').value.trim();

                    const accountType = document.getElementById('account-type').value;
                    const password = document.getElementById('password').value;

                    const businessName = document.getElementById('business-name').value.trim();
                    const businessAddress = document.getElementById('business-address').value.trim();
                    const businessReg = document.getElementById('business-reg').value.trim();

                    const confirmed = document.getElementById('joint-confirm').checked;
                    if (!confirmed) throw new Error('Please confirm all information is correct.');

                    // Create Auth user with principal email
                    const userCredential = await authCompat.createUserWithEmailAndPassword(principalEmail, password);
                    const user = userCredential.user;

                    // Prepare Firestore payload
                    const payload = {
                        holdersCount,
                        holderNames: holdersCount === 3 ? [holderName1, holderName2, holderName3] : [holderName1, holderName2],
                        holderEmails: holdersCount === 3 ? [principalEmail, secondaryEmail, holderEmail3] : [principalEmail, secondaryEmail],
                        principalEmail,
                        secondaryEmail,
                        principalPhone,
                        secondaryPhone,
                        accountType,
                        business: {
                            name: businessName,
                            address: businessAddress,
                            registrationNumber: businessReg
                        },
                        createdAt: firebase.firestore.FieldValue.serverTimestamp()
                    };

                    // Save to Firestore under joint_accounts collection using principal user uid
                    await dbCompat.collection('joint_accounts').doc(user.uid).set(payload);

                    // Show success modal instead of inline message
                    closeJointModal(); // Close the form modal first

                    // Show the success modal
                    if (successModal) {
                        successModal.classList.remove('hidden');
                        if (document.body) document.body.style.overflow = 'hidden';
                    }

                    // Reset the form
                    form.reset();
                    if (holder3Group) holder3Group.classList.add('hidden');
                    if (statusEl) statusEl.textContent = ''; // Clear any status messages
                } catch (err) {
                    console.error(err);
                    if (statusEl) statusEl.textContent = `Error: ${err.message}`;
                }
            });
        }
    });
</script>

<!-- Live Chat Widget -->
<script src="live-chat-widget.js"></script>

<!-- Spinner -->
<div id="spinner" class="hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
    <div class="smart-spinner"></div>
</div>

<!-- Success Modal -->
<div id="success-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
        <div class="text-center">
            <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-check text-2xl text-blue-500"></i>
            </div>
            <h3 class="text-xl font-bold text-blue-950 mb-2">Account Created Successfully!</h3>
            <p class="text-blue-800 mb-6">Please check your email for verification instructions. Next, we’ll ask two quick onboarding questions.</p>
            <button onclick="window.location.href='onboarding.html'" class="w-full btn-gradient text-white py-3 rounded-xl font-medium transition duration-300">
                <i class="fas fa-arrow-right mr-2"></i>Continue Onboarding
            </button>
        </div>
    </div>
</div>

<!-- Joint Account Modal -->
<div id="joint-modal" class="fixed inset-0 z-50 hidden">
    <div id="joint-backdrop" class="absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"></div>
    <div class="relative mx-auto my-4 md:my-8 max-w-[95vw] md:max-w-5xl bg-white rounded-xl shadow-2xl p-0 overflow-hidden max-h-[95vh] md:max-h-[90vh]">
        <!-- Minimalist Header -->
        <div class="border-b border-gray-200 bg-white px-6 md:px-8 py-5 md:py-6">
            <div class="flex justify-between items-center">
                <div>
                    <h3 class="text-2xl md:text-3xl font-bold text-blue-950 mb-1">Joint Account</h3>
                    <p class="text-sm text-gray-500">Complete the form below to open a joint account</p>
                </div>
                <button type="button" id="close-joint-modal-btn" class="text-gray-400 hover:text-blue-800 transition-colors p-2 rounded-xl hover:bg-blue-50">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
        </div>

        <!-- Form Container -->
        <div class="p-6 md:p-10 overflow-y-auto max-h-[calc(95vh-140px)] md:max-h-[calc(90vh-160px)] bg-gray-50">
            <!-- Info Banner -->
            <div class="mb-8 p-4 bg-white border-l-4 border-gray-400 rounded-r-lg">
                <p class="text-sm text-blue-950">
                    <span class="font-semibold">Note:</span> Create a joint account with 2–3 holders. The principal holder's email will be used for secure login. Business information is optional unless you select a Business account type.
                </p>
            </div>

            <form id="joint-account-form" class="space-y-8">
                <!-- Number of Holders -->
                <div class="bg-white rounded-xl border border-gray-200 p-6">
                    <label for="holders-count" class="block text-sm font-semibold text-blue-950 mb-3">
                        Number of Account Holders
                    </label>
                    <select id="holders-count" class="w-full md:w-64 border border-blue-200 rounded-xl px-4 py-3 text-blue-950 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-gray-500 transition-all">
                        <option value="2" selected>2 Account Holders</option>
                        <option value="3">3 Account Holders</option>
                    </select>
                </div>

                <!-- Account Holders Section -->
                <div class="space-y-6">
                    <div class="flex items-center space-x-2 pb-3 border-b border-gray-200">
                        <h4 class="text-lg font-bold text-blue-950">Account Holders</h4>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Primary Holder -->
                        <div class="bg-white rounded-xl border border-gray-200 p-6 space-y-5">
                            <div class="flex items-center space-x-3 pb-4 border-b border-gray-200">
                                <div class="w-8 h-8 bg-gray-900 rounded-full flex items-center justify-center">
                                    <span class="text-white text-xs font-bold">1</span>
                                </div>
                                <h5 class="font-semibold text-blue-950">Primary Holder</h5>
                            </div>
                            <div>
                                <label for="holder-name-1" class="block text-sm font-medium text-blue-950 mb-2">Full Name</label>
                                <input id="holder-name-1" type="text" required class="w-full border border-blue-200 rounded-xl px-4 py-3 text-blue-950 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-gray-500 transition-all" placeholder="Enter full name" />
                            </div>
                            <div>
                                <label for="principal-email" class="block text-sm font-medium text-blue-950 mb-2">Email Address</label>
                                <input id="principal-email" type="email" required class="w-full border border-blue-200 rounded-xl px-4 py-3 text-blue-950 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-gray-500 transition-all" placeholder="primary@example.com" />
                            </div>
                            <div>
                                <label for="principal-phone" class="block text-sm font-medium text-blue-950 mb-2">Phone Number</label>
                                <input id="principal-phone" type="tel" required class="w-full border border-blue-200 rounded-xl px-4 py-3 text-blue-950 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-gray-500 transition-all" placeholder="+1 234 567 8900" />
                            </div>
                        </div>

                        <!-- Secondary Holder -->
                        <div class="bg-white rounded-xl border border-gray-200 p-6 space-y-5">
                            <div class="flex items-center space-x-3 pb-4 border-b border-gray-200">
                                <div class="w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center">
                                    <span class="text-white text-xs font-bold">2</span>
                                </div>
                                <h5 class="font-semibold text-blue-950">Secondary Holder</h5>
                            </div>
                            <div>
                                <label for="holder-name-2" class="block text-sm font-medium text-blue-950 mb-2">Full Name</label>
                                <input id="holder-name-2" type="text" required class="w-full border border-blue-200 rounded-xl px-4 py-3 text-blue-950 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-gray-500 transition-all" placeholder="Enter full name" />
                            </div>
                            <div>
                                <label for="secondary-email" class="block text-sm font-medium text-blue-950 mb-2">Email Address</label>
                                <input id="secondary-email" type="email" required class="w-full border border-blue-200 rounded-xl px-4 py-3 text-blue-950 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-gray-500 transition-all" placeholder="secondary@example.com" />
                            </div>
                            <div>
                                <label for="secondary-phone" class="block text-sm font-medium text-blue-950 mb-2">Phone Number</label>
                                <input id="secondary-phone" type="tel" required class="w-full border border-blue-200 rounded-xl px-4 py-3 text-blue-950 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-gray-500 transition-all" placeholder="+1 234 567 8901" />
                            </div>
                        </div>
                    </div>

                    <!-- Third Holder (Conditional) -->
                    <div id="holder-3-group" class="hidden">
                        <div class="bg-white rounded-xl border border-gray-200 p-6 space-y-5">
                            <div class="flex items-center space-x-3 pb-4 border-b border-gray-200">
                                <div class="w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center">
                                    <span class="text-white text-xs font-bold">3</span>
                                </div>
                                <h5 class="font-semibold text-blue-950">Third Holder</h5>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                                <div>
                                    <label for="holder-name-3" class="block text-sm font-medium text-blue-950 mb-2">Full Name</label>
                                    <input id="holder-name-3" type="text" class="w-full border border-blue-200 rounded-xl px-4 py-3 text-blue-950 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-gray-500 transition-all" placeholder="Enter full name" />
                                </div>
                                <div>
                                    <label for="holder-name-3-email" class="block text-sm font-medium text-blue-950 mb-2">Email Address</label>
                                    <input id="holder-name-3-email" type="email" class="w-full border border-blue-200 rounded-xl px-4 py-3 text-blue-950 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-gray-500 transition-all" placeholder="third@example.com" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Account Details Section -->
                <div class="bg-white rounded-xl border border-gray-200 p-6 space-y-6">
                    <div class="flex items-center space-x-2 pb-4 border-b border-gray-200">
                        <h4 class="text-lg font-bold text-blue-950">Account Details</h4>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="account-type" class="block text-sm font-medium text-blue-950 mb-2">Account Type</label>
                            <select id="account-type" class="w-full border border-blue-200 rounded-xl px-4 py-3 text-blue-950 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-gray-500 transition-all">
                                <option value="personal">Personal Account</option>
                                <option value="business">Business Account</option>
                                <option value="investment">Investment Account</option>
                            </select>
                        </div>
                        <div>
                            <label for="password" class="block text-sm font-medium text-blue-950 mb-2">Password</label>
                            <input id="password" type="password" required class="w-full border border-blue-200 rounded-xl px-4 py-3 text-blue-950 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-gray-500 transition-all" placeholder="Enter a secure password" />
                        </div>
                    </div>
                </div>

                <!-- Business Information Section -->
                <div class="bg-white rounded-xl border border-gray-200 p-6 space-y-6">
                    <div class="flex items-center space-x-2 pb-4 border-b border-gray-200">
                        <h4 class="text-lg font-bold text-blue-950">Business Information</h4>
                        <span class="text-xs text-gray-500 font-normal">(Optional)</span>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="business-name" class="block text-sm font-medium text-blue-950 mb-2">Business Name</label>
                            <input id="business-name" type="text" class="w-full border border-blue-200 rounded-xl px-4 py-3 text-blue-950 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-gray-500 transition-all" placeholder="Enter business name" />
                        </div>
                        <div>
                            <label for="business-reg" class="block text-sm font-medium text-blue-950 mb-2">Registration Number</label>
                            <input id="business-reg" type="text" class="w-full border border-blue-200 rounded-xl px-4 py-3 text-blue-950 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-gray-500 transition-all" placeholder="Enter registration number" />
                        </div>
                    </div>
                    
                    <div>
                        <label for="business-address" class="block text-sm font-medium text-blue-950 mb-2">Business Address</label>
                        <textarea id="business-address" rows="3" class="w-full border border-blue-200 rounded-xl px-4 py-3 text-blue-950 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-gray-500 transition-all resize-none" placeholder="Enter complete business address"></textarea>
                    </div>
                </div>

                <!-- Terms and Confirmation -->
                <div class="bg-white rounded-xl border border-gray-200 p-6 space-y-4">
                    <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-xl border border-gray-200">
                        <i class="fas fa-info-circle text-blue-800 mt-0.5"></i>
                        <p class="text-sm text-blue-950">
                            Joint accounts allow multiple holders to manage funds together. Each holder can access the account as permitted. Ensure all details are accurate and agreed upon by all parties.
                        </p>
                    </div>
                    
                    <div class="flex items-start space-x-3">
                        <input id="joint-confirm" type="checkbox" required class="mt-1 w-5 h-5 text-blue-950 border-2 border-blue-200 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer" />
                        <label for="joint-confirm" class="text-sm text-blue-950 leading-relaxed cursor-pointer">
                            <span class="font-semibold text-blue-950">I confirm</span> that the information provided above is correct and all holders are in mutual understanding. I agree to the <span class="text-blue-950 font-medium underline">terms and conditions</span> of opening a joint account.
                        </label>
                    </div>
                </div>

                <!-- Submit and Cancel Buttons -->
                <div class="pt-4 flex gap-4">
                    <button type="button" id="cancel-joint-modal-btn" class="flex-1 bg-white border-2 border-blue-200 hover:border-gray-400 text-blue-950 hover:text-blue-950 py-4 px-6 rounded-xl transition-all duration-200 font-semibold text-base shadow-sm hover:shadow-md">
                        Cancel
                    </button>
                    <button id="joint-submit-btn" type="submit" class="flex-1 bg-gray-900 hover:bg-gray-800 text-white py-4 px-6 rounded-xl transition-all duration-200 font-semibold text-base shadow-md hover:shadow-lg flex items-center justify-center space-x-2">
                        <span>Create Joint Account</span>
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>

                <!-- Status Message -->
                <p id="joint-form-status" class="text-sm text-center text-blue-800"></p>
            </form>
        </div>
    </div>
</div>

<!-- Joint Account Success Modal -->
<div id="joint-success-modal" class="fixed inset-0 z-50 hidden">
    <div id="success-backdrop" class="absolute inset-0 bg-black bg-opacity-50"></div>
    <div class="relative mx-auto my-12 max-w-md bg-white rounded-xl shadow-lg p-8">
        <div class="text-center">
            <!-- Success Icon -->
            <div class="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-blue-50 mb-6">
                <i class="fas fa-check-circle text-blue-950 text-3xl"></i>
            </div>
            
            <!-- Success Message -->
            <h3 class="text-xl font-semibold text-blue-950 mb-4">Joint Account Registration in Progress</h3>
            
            <div class="space-y-3 text-blue-800 mb-6">
                <p>Please be informed that a verification link has been sent to both account holders to complete the registration process.</p>
                <p>We will review your application and get back to you within 2-3 business days regarding your registration status.</p>
            </div>
            
            <!-- Close Button -->
            <button id="close-success-modal-btn" class="w-full bg-gray-900 hover:bg-gray-800 text-white py-3 px-6 rounded-xl transition duration-300 font-medium">
                Close
            </button>
        </div>
    </div>
</div>
  <script src="./components/site-shell.js"></script>
  <!-- Include Font Awesome -->
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <!-- Cookie Consent Banner -->
<div id="cookie-consent-banner" class="hidden fixed bottom-0 left-0 right-0 z-50 bg-white border-t-2 border-blue-200 shadow-2xl">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 py-6">
    <div class="flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
      <div class="flex-1">
        <div class="flex items-center gap-2 mb-2">
          <i class="fas fa-cookie-bite text-blue-600 text-xl"></i>
          <h3 class="text-lg font-semibold text-blue-950">We care about your privacy</h3>
        </div>
        <p class="text-sm text-blue-800 leading-relaxed">
          By clicking "Accept All Cookies", you agree to the storing of cookies on your device to enhance site navigation, analyze site usage, and assist in our marketing efforts. If you would like to modify your preferences, please click the <strong>Manage Preferences</strong>.
        </p>
      </div>
      <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto">
        <button id="accept-all-cookies" class="btn-blue px-6 py-2.5 rounded-xl font-semibold text-sm inline-flex items-center justify-center shadow-sm whitespace-nowrap">
          <i class="fas fa-check mr-2"></i>Accept Cookies
        </button>
        <button id="reject-all-cookies" class="px-6 py-2.5 rounded-xl font-semibold text-sm inline-flex items-center justify-center border border-blue-200 bg-white text-blue-950 hover:bg-blue-50 transition whitespace-nowrap">
          <i class="fas fa-times mr-2"></i>Reject All
        </button>
        <button id="manage-preferences" class="px-6 py-2.5 rounded-xl font-semibold text-sm inline-flex items-center justify-center border border-blue-200 bg-white text-blue-950 hover:bg-blue-50 transition whitespace-nowrap">
          <i class="fas fa-cog mr-2"></i>Manage Preferences
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Cookie Preferences Modal -->
<div id="cookie-preferences-modal" class="hidden fixed inset-0 z-50 overflow-y-auto">
  <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
    <!-- Background overlay -->
    <div class="fixed inset-0 bg-blue-950/60 transition-opacity" onclick="closeCookiePreferences()"></div>

    <!-- Modal panel -->
    <div class="inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full">
      <div class="bg-white px-6 py-5 border-b border-blue-100">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-3">
            <i class="fas fa-cookie-bite text-blue-600 text-2xl"></i>
            <h3 class="text-2xl font-bold text-blue-950">Cookie Preferences</h3>
          </div>
          <button onclick="closeCookiePreferences()" class="text-blue-700 hover:text-blue-950 transition">
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>
        <p class="mt-2 text-sm text-blue-800">Manage your cookie preferences. You can enable or disable different types of cookies below.</p>
      </div>

      <div class="px-6 py-6 space-y-6 max-h-96 overflow-y-auto">
        <!-- Essential Cookies -->
        <div class="border border-blue-100 rounded-xl p-4">
          <div class="flex items-center justify-between mb-3">
            <div>
              <h4 class="font-semibold text-blue-950">Essential Cookies</h4>
              <p class="text-sm text-blue-700 mt-1">Required for the website to function properly</p>
            </div>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" class="sr-only peer" id="essential-cookies" checked disabled>
              <div class="w-11 h-6 bg-blue-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all"></div>
            </label>
          </div>
          <p class="text-xs text-blue-600">These cookies cannot be disabled as they are essential for the website to function.</p>
        </div>

        <!-- Analytics Cookies -->
        <div class="border border-blue-100 rounded-xl p-4">
          <div class="flex items-center justify-between mb-3">
            <div>
              <h4 class="font-semibold text-blue-950">Analytics Cookies</h4>
              <p class="text-sm text-blue-700 mt-1">Help us understand how visitors interact with our website</p>
            </div>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" class="sr-only peer" id="analytics-cookies">
              <div class="w-11 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
            </label>
          </div>
          <p class="text-xs text-blue-600">These cookies collect information about how you use our website to help us improve it.</p>
        </div>

        <!-- Marketing Cookies -->
        <div class="border border-blue-100 rounded-xl p-4">
          <div class="flex items-center justify-between mb-3">
            <div>
              <h4 class="font-semibold text-blue-950">Marketing Cookies</h4>
              <p class="text-sm text-blue-700 mt-1">Used to deliver personalized advertisements</p>
            </div>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" class="sr-only peer" id="marketing-cookies">
              <div class="w-11 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
            </label>
          </div>
          <p class="text-xs text-blue-600">These cookies are used to show you relevant advertisements based on your interests.</p>
        </div>
      </div>

      <div class="bg-blue-50 px-6 py-4 border-t border-blue-100 flex flex-col sm:flex-row gap-3 justify-end">
        <button onclick="closeCookiePreferences()" class="px-6 py-2.5 rounded-xl font-semibold text-sm inline-flex items-center justify-center border border-blue-200 bg-white text-blue-950 hover:bg-blue-50 transition">
          Cancel
        </button>
        <button id="save-preferences" class="btn-blue px-6 py-2.5 rounded-xl font-semibold text-sm inline-flex items-center justify-center shadow-sm">
          <i class="fas fa-save mr-2"></i>Save Preferences
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Cookie Consent Script -->
<script>
(function() {
  // Wait for DOM to be ready
  function initCookieConsent() {
    const COOKIE_CONSENT_KEY = 'fci_cookie_consent';
    const COOKIE_PREFERENCES_KEY = 'fci_cookie_preferences';
    
    const banner = document.getElementById('cookie-consent-banner');
    const modal = document.getElementById('cookie-preferences-modal');
    const acceptAllBtn = document.getElementById('accept-all-cookies');
    const rejectAllBtn = document.getElementById('reject-all-cookies');
    const managePrefsBtn = document.getElementById('manage-preferences');
    const savePrefsBtn = document.getElementById('save-preferences');
    
    if (!banner) return; // Exit if banner doesn't exist
    
    // Check if user has already made a choice
    function hasConsent() {
      return localStorage.getItem(COOKIE_CONSENT_KEY) !== null;
    }
    
    // Get stored preferences
    function getPreferences() {
      const stored = localStorage.getItem(COOKIE_PREFERENCES_KEY);
      if (stored) {
        try {
          return JSON.parse(stored);
        } catch {
          return null;
        }
      }
      return null;
    }
    
    // Save preferences
    function savePreferences(prefs) {
      localStorage.setItem(COOKIE_PREFERENCES_KEY, JSON.stringify(prefs));
      localStorage.setItem(COOKIE_CONSENT_KEY, 'true');
    }
    
    // Show banner if no consent given
    if (!hasConsent()) {
      banner.classList.remove('hidden');
    }
    
    // Accept all cookies
    if (acceptAllBtn) {
      acceptAllBtn.addEventListener('click', () => {
        const prefs = {
          essential: true,
          analytics: true,
          marketing: true,
          timestamp: new Date().toISOString()
        };
        savePreferences(prefs);
        banner.classList.add('hidden');
      });
    }
    
    // Reject all cookies (except essential)
    if (rejectAllBtn) {
      rejectAllBtn.addEventListener('click', () => {
        const prefs = {
          essential: true,
          analytics: false,
          marketing: false,
          timestamp: new Date().toISOString()
        };
        savePreferences(prefs);
        banner.classList.add('hidden');
      });
    }
    
    // Open preferences modal
    if (managePrefsBtn) {
      managePrefsBtn.addEventListener('click', () => {
        const prefs = getPreferences();
        const analyticsCheckbox = document.getElementById('analytics-cookies');
        const marketingCheckbox = document.getElementById('marketing-cookies');
        
        if (prefs && analyticsCheckbox && marketingCheckbox) {
          analyticsCheckbox.checked = prefs.analytics || false;
          marketingCheckbox.checked = prefs.marketing || false;
        }
        if (modal) modal.classList.remove('hidden');
      });
    }
    
    // Close preferences modal
    window.closeCookiePreferences = function() {
      if (modal) modal.classList.add('hidden');
    };
    
    // Save preferences from modal
    if (savePrefsBtn) {
      savePrefsBtn.addEventListener('click', () => {
        const analyticsCheckbox = document.getElementById('analytics-cookies');
        const marketingCheckbox = document.getElementById('marketing-cookies');
        
        const prefs = {
          essential: true,
          analytics: analyticsCheckbox ? analyticsCheckbox.checked : false,
          marketing: marketingCheckbox ? marketingCheckbox.checked : false,
          timestamp: new Date().toISOString()
        };
        savePreferences(prefs);
        if (modal) modal.classList.add('hidden');
        banner.classList.add('hidden');
      });
    }
    
    // Load saved preferences and apply them
    const savedPrefs = getPreferences();
    if (savedPrefs) {
      // Apply analytics cookies if enabled
      if (savedPrefs.analytics) {
        // Initialize analytics here if needed
        console.log('Analytics cookies enabled');
      }
      
      // Apply marketing cookies if enabled
      if (savedPrefs.marketing) {
        // Initialize marketing scripts here if needed
        console.log('Marketing cookies enabled');
      }
    }
  }
  
  // Initialize when DOM is ready or after a short delay (for async includes)
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initCookieConsent);
  } else {
    // DOM already loaded, but component might be loaded async
    setTimeout(initCookieConsent, 100);
  }
  
  // Also listen for the fragments-loaded event
  window.addEventListener('site:fragments-loaded', initCookieConsent);
})();
</script>


</body>
</html>
